<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¿›æ”»æ€§æ§åˆ¶å¤§å¸ˆ - 3Bet/4Beté˜²å¾¡è®­ç»ƒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-top: 10px;
        }

        .problem-statement {
            background: rgba(255, 87, 87, 0.2);
            border-left: 4px solid #ff5757;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .solution-statement {
            background: rgba(87, 255, 151, 0.2);
            border-left: 4px solid #57ff97;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .training-modules {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .module-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .module-card:hover {
            transform: translateY(-5px);
            border-color: #4CAF50;
            background: rgba(255, 255, 255, 0.15);
        }

        .module-card.active {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.2);
        }

        .module-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .module-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .training-area {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
            display: none;
        }

        .training-area.show {
            display: block;
        }

        .scenario {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .scenario-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .scenario-info {
            flex: 1;
        }

        .position-info {
            display: inline-block;
            background: rgba(255, 193, 7, 0.3);
            padding: 8px 15px;
            border-radius: 20px;
            margin-right: 10px;
            font-weight: bold;
        }

        .hand-display {
            font-size: 3em;
            text-align: center;
            margin: 30px 0;
            padding: 30px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
        }

        .card {
            display: inline-block;
            width: 70px;
            height: 100px;
            background: white;
            color: black;
            border-radius: 10px;
            margin: 0 10px;
            line-height: 100px;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .card.red {
            color: #e74c3c;
        }

        .action-situation {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .action-btn {
            padding: 20px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .action-btn:hover {
            transform: scale(1.05);
        }

        .action-btn.fold {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .action-btn.call {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .action-btn.raise {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .action-btn.reraise {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }

        .feedback {
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            display: none;
            animation: slideIn 0.5s;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: rgba(46, 204, 113, 0.3);
            border: 2px solid #2ecc71;
        }

        .feedback.wrong {
            background: rgba(231, 76, 60, 0.3);
            border: 2px solid #e74c3c;
        }

        .feedback.warning {
            background: rgba(241, 196, 15, 0.3);
            border: 2px solid #f1c40f;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .explanation {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .stats-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            opacity: 0.8;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .next-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 10px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: all 0.3s;
        }

        .next-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .opponent-profile {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .range-display {
            display: grid;
            grid-template-columns: repeat(13, 1fr);
            gap: 3px;
            margin: 20px 0;
            font-size: 0.8em;
        }

        .range-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            font-size: 0.9em;
            cursor: pointer;
        }

        .range-cell.value {
            background: rgba(231, 76, 60, 0.6);
        }

        .range-cell.bluff {
            background: rgba(52, 152, 219, 0.6);
        }

        .key-lessons {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .lesson-item {
            padding: 15px;
            margin: 10px 0;
            background: rgba(0, 0, 0, 0.2);
            border-left: 4px solid #4CAF50;
            border-radius: 5px;
        }

        .aggression-meter {
            margin: 30px 0;
            text-align: center;
        }

        .meter-bar {
            width: 100%;
            height: 40px;
            background: linear-gradient(90deg, #2ecc71, #f1c40f, #e74c3c);
            border-radius: 20px;
            position: relative;
            margin: 20px 0;
        }

        .meter-indicator {
            position: absolute;
            width: 4px;
            height: 50px;
            background: white;
            top: -5px;
            transition: left 0.5s;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        .zone-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¯ è¿›æ”»æ€§æ§åˆ¶å¤§å¸ˆ</h1>
            <div class="subtitle">3-Bet & 4-Bet é˜²å¾¡ä¸“é¡¹è®­ç»ƒç³»ç»Ÿ</div>
            <div class="subtitle">ä¸“æ²»è¿‡åº¦æ¿€è¿› | 100%å°å µå‹åˆ¶æ¼æ´</div>
        </header>

        <div class="problem-statement">
            <h3>âš ï¸ ä½ çš„é—®é¢˜è¯Šæ–­</h3>
            <p><strong>ç—‡çŠ¶ï¼š</strong>3-Betå’Œ4-Betåº•æ± ä¸­è¿‡åº¦æ¿€è¿›ï¼Œé¢‘ç¹è¢«å¯¹æ‰‹å‹åˆ¶</p>
            <p><strong>æ ¹æœ¬åŸå› ï¼š</strong></p>
            <ul style="margin-top: 10px; margin-left: 20px;">
                <li>âœ— 3-Bet/4-BetèŒƒå›´è¿‡å®½ï¼ŒåŒ…å«å¤ªå¤šè¾¹ç¼˜ç‰Œ</li>
                <li>âœ— æœªèƒ½è¯†åˆ«å¯¹æ‰‹çš„3-Bet/4-Betç±»å‹ï¼ˆä»·å€¼ vs è¯ˆå”¬ï¼‰</li>
                <li>âœ— ä½ç½®åŠ£åŠ¿æ—¶ä»ç„¶è¿‡åº¦æ¿€è¿›</li>
                <li>âœ— å¯¹å†åŠ æ³¨ï¼ˆ5-Betï¼‰ç¼ºä¹åº”å¯¹ç­–ç•¥</li>
                <li>âœ— åº•æ± æ§åˆ¶èƒ½åŠ›ä¸è¶³ï¼Œå®¹æ˜“é™·å…¥é«˜é£é™©å†³ç­–</li>
            </ul>
        </div>

        <div class="solution-statement">
            <h3>âœ… è®­ç»ƒç›®æ ‡</h3>
            <p><strong>é€šè¿‡æœ¬ç³»ç»Ÿï¼Œä½ å°†å­¦ä¼šï¼š</strong></p>
            <ul style="margin-top: 10px; margin-left: 20px;">
                <li>âœ“ ç²¾å‡†è¯†åˆ«ä½•æ—¶è¯¥æ¿€è¿›ã€ä½•æ—¶è¯¥ä¿å®ˆ</li>
                <li>âœ“ æ ¹æ®ä½ç½®å’Œå¯¹æ‰‹ç±»å‹è°ƒæ•´ç­–ç•¥</li>
                <li>âœ“ æŒæ¡æ­£ç¡®çš„3-Bet/4-Beté˜²å®ˆèŒƒå›´</li>
                <li>âœ“ å­¦ä¼šåŠæ—¶foldï¼Œé¿å…å †ç­¹ç é™·é˜±</li>
                <li>âœ“ å»ºç«‹å¹³è¡¡çš„è¿›æ”»/é˜²å®ˆä½“ç³»</li>
            </ul>
        </div>

        <div class="training-modules">
            <div class="module-card" onclick="startModule(1)">
                <div class="module-icon">ğŸ›¡ï¸</div>
                <div class="module-title">é¢å¯¹3-Betçš„é˜²å®ˆ</div>
                <div>å­¦ä¼šè¯†åˆ«ä½•æ—¶è¯¥callã€foldè¿˜æ˜¯4-Bet</div>
            </div>

            <div class="module-card" onclick="startModule(2)">
                <div class="module-icon">âš”ï¸</div>
                <div class="module-title">4-Betå†³ç­–è®­ç»ƒ</div>
                <div>æŒæ¡4-Betçš„æ—¶æœºå’ŒèŒƒå›´æ§åˆ¶</div>
            </div>

            <div class="module-card" onclick="startModule(3)">
                <div class="module-icon">ğŸ­</div>
                <div class="module-title">å¯¹æ‰‹ç±»å‹è¯†åˆ«</div>
                <div>æ ¹æ®å¯¹æ‰‹é£æ ¼è°ƒæ•´æ¿€è¿›ç¨‹åº¦</div>
            </div>

            <div class="module-card" onclick="startModule(4)">
                <div class="module-icon">ğŸ“</div>
                <div class="module-title">ä½ç½®æ„è¯†å¼ºåŒ–</div>
                <div>ä¸åŒä½ç½®çš„æ¿€è¿›åº¦æ§åˆ¶</div>
            </div>

            <div class="module-card" onclick="startModule(5)">
                <div class="module-icon">ğŸ’°</div>
                <div class="module-title">åº•æ± å¤§å°æ§åˆ¶</div>
                <div>é¿å…é™·å…¥è¿‡å¤§åº•æ± çš„é™·é˜±</div>
            </div>

            <div class="module-card" onclick="startModule(6)">
                <div class="module-icon">ğŸ§ </div>
                <div class="module-title">ç»¼åˆå®æˆ˜æµ‹è¯•</div>
                <div>50é“é«˜éš¾åº¦åœºæ™¯æµ‹è¯•</div>
            </div>
        </div>

        <!-- ç»Ÿè®¡é¢æ¿ -->
        <div class="stats-panel">
            <div class="stat-card">
                <div class="stat-label">æ­£ç¡®ç‡</div>
                <div class="stat-value" id="accuracy">0%</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">å·²å®Œæˆ</div>
                <div class="stat-value" id="completed">0/50</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">è¿‡åº¦æ¿€è¿›ç‡</div>
                <div class="stat-value" id="aggression">0%</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Foldå‡†ç¡®ç‡</div>
                <div class="stat-value" id="foldAccuracy">0%</div>
            </div>
        </div>

        <!-- è¿›æ”»æ€§æŒ‡ç¤ºå™¨ -->
        <div class="aggression-meter">
            <h3>ä½ çš„è¿›æ”»æ€§æ°´å¹³</h3>
            <div class="meter-bar">
                <div class="meter-indicator" id="aggressionIndicator" style="left: 80%;"></div>
            </div>
            <div class="zone-labels">
                <span>ğŸŸ¢ å¤ªä¿å®ˆ</span>
                <span>ğŸŸ¡ å¹³è¡¡</span>
                <span>ğŸ”´ è¿‡åº¦æ¿€è¿›ï¼ˆä½ å½“å‰ä½ç½®ï¼‰</span>
            </div>
        </div>

        <!-- è®­ç»ƒåŒºåŸŸ -->
        <div class="training-area" id="trainingArea">
            <div class="scenario" id="scenarioContainer">
                <!-- åœºæ™¯åŠ¨æ€ç”Ÿæˆ -->
            </div>

            <div class="feedback" id="feedback">
                <!-- åé¦ˆåŠ¨æ€ç”Ÿæˆ -->
            </div>

            <button class="next-btn" onclick="nextScenario()" id="nextBtn" style="display: none;">
                ä¸‹ä¸€é¢˜ â†’
            </button>
        </div>

        <!-- å…³é”®è¦ç‚¹æ€»ç»“ -->
        <div class="key-lessons">
            <h3>ğŸ“ æ ¸å¿ƒè¦ç‚¹ï¼ˆå¿…é¡»è®°ä½ï¼‰</h3>
            <div class="lesson-item">
                <strong>1. ä½ç½®æ˜¯ç‹é“</strong><br>
                IPï¼ˆæœ‰ä½ç½®ï¼‰å¯ä»¥æ¿€è¿›ï¼ŒOOPï¼ˆæ— ä½ç½®ï¼‰å¿…é¡»ä¿å®ˆã€‚é¢å¯¹3-Betæ—¶ï¼ŒEPå’ŒMPçš„ç‰Œè¦æ¯”BTNä¸¥æ ¼å¾—å¤šã€‚
            </div>
            <div class="lesson-item">
                <strong>2. è¯†åˆ«å¯¹æ‰‹3-Betç±»å‹</strong><br>
                ç´§æ‰‹çš„3-Bet = å¼ºç‰Œï¼ˆfoldä¸­ç­‰ç‰Œï¼‰| æ¾æ‰‹çš„3-Bet = å¯èƒ½è¯ˆå”¬ï¼ˆå¯ä»¥4-Betåå‡»ï¼‰
            </div>
            <div class="lesson-item">
                <strong>3. 4-Betè¦æœ‰ç†ç”±</strong><br>
                4-Betåªç”¨ï¼šâ‘  è¶…å¼ºç‰Œï¼ˆAA/KK/AKï¼‰ â‘¡ å¯¹æŠ—æ¾æ‰‹çš„è¯ˆå”¬4-Betã€‚å…¶ä»–æƒ…å†µè€ƒè™‘callæˆ–foldã€‚
            </div>
            <div class="lesson-item">
                <strong>4. å­¦ä¼šåŠæ—¶fold</strong><br>
                é¢å¯¹3-Betï¼Œå¤§éƒ¨åˆ†ç‰Œåº”è¯¥foldï¼ˆåŒ…æ‹¬AJã€KQã€77-99ç­‰ä¸­ç­‰ç‰Œï¼‰ã€‚Foldä¸æ˜¯æ‡¦å¼±ï¼Œæ˜¯çºªå¾‹ã€‚
            </div>
            <div class="lesson-item">
                <strong>5. æ§åˆ¶åº•æ± å¤§å°</strong><br>
                è¾¹ç¼˜ç‰Œåœ¨å¤§åº•æ± é‡Œæ˜¯ç¾éš¾ã€‚å®å¯å°åº•æ± äºå°é’±ï¼Œä¸è¦å¤§åº•æ± äºå…‰ã€‚
            </div>
        </div>
    </div>

    <script>
        // è®­ç»ƒæ•°æ®
        const trainingData = {
            module1: [
                {
                    position: 'BTN',
                    yourHand: ['Aâ™ ', 'Jâ™¥'],
                    action: 'ä½ åœ¨BTNå¼€å±€åŠ æ³¨åˆ°3BB',
                    situation: 'SB 3-Betåˆ°10BBï¼ˆSBæ˜¯ç´§æ‰‹ï¼ŒVPIP 18%ï¼‰',
                    stack: '100BB',
                    opponent: 'ç´§æ‰‹ï¼ˆå¾ˆå°‘3-Betï¼Œåªç”¨å¼ºç‰Œï¼‰',
                    options: [
                        { action: 'Fold', correct: true, reason: 'AJé¢å¯¹ç´§æ‰‹çš„3-Betåº”è¯¥foldã€‚ç´§æ‰‹çš„3-BetèŒƒå›´æ˜¯TT+/AQ+ï¼Œä½ åªæœ‰30%å·¦å³èƒœç‡ï¼Œè€Œä¸”ä½ç½®åŠ£åŠ¿ï¼ˆOOPï¼‰ã€‚' },
                        { action: 'Call', correct: false, reason: 'âŒ Callä¼šè®©ä½ åœ¨ä¸åˆ©ä½ç½®æ‰“å¤§åº•æ± ï¼Œç¿»ç‰Œåå¾ˆéš¾å¤„ç†ã€‚AJåœ¨OOPå¾ˆéš¾ç›ˆåˆ©ã€‚' },
                        { action: '4-Betåˆ°25BB', correct: false, reason: 'âŒ è¿‡åº¦æ¿€è¿›ï¼å¯¹æŠ—ç´§æ‰‹4-Betåªä¼šè¢«AA/KK/QQ/AK callæˆ–re-raiseï¼Œä½ çš„equityå¾ˆå·®ã€‚' }
                    ]
                },
                {
                    position: 'CO',
                    yourHand: ['Kâ™¦', 'Qâ™£'],
                    action: 'ä½ åœ¨COåŠ æ³¨åˆ°2.5BB',
                    situation: 'BTN 3-Betåˆ°9BBï¼ˆBTNæ˜¯LAGç©å®¶ï¼Œ3-Beté¢‘ç‡25%ï¼‰',
                    stack: '100BB',
                    opponent: 'LAGæ¾æ‰‹ï¼ˆ3-BetèŒƒå›´å¾ˆå®½ï¼ŒåŒ…æ‹¬è¯ˆå”¬ï¼‰',
                    options: [
                        { action: 'Fold', correct: true, reason: 'KQæ˜¯è¾¹ç¼˜ç‰Œï¼Œé¢å¯¹3-Betæœ€å®‰å…¨çš„é€‰æ‹©æ˜¯foldï¼Œå³ä½¿å¯¹æ‰‹å¯èƒ½è¯ˆå”¬ã€‚' },
                        { action: 'Call', correct: false, reason: 'âš ï¸ å‹‰å¼ºå¯ä»¥ï¼Œä½†ä½ ä¼šåœ¨ä¸åˆ©ä½ç½®æ‰“å¤§åº•æ± ï¼Œç¿»ç‰Œåå¾ˆéš¾æ§åˆ¶ã€‚åªæœ‰ä½ å¯¹å¯¹æ‰‹å¾ˆäº†è§£æ—¶æ‰è€ƒè™‘ã€‚' },
                        { action: '4-Betåˆ°22BB', correct: false, reason: 'âŒ KQä¸é€‚åˆ4-Betã€‚å¦‚æœå¯¹æ‰‹æ˜¯LAGï¼Œå¯ä»¥è€ƒè™‘4-Bet bluffï¼Œä½†ç”¨æ›´åˆé€‚çš„ç‰Œï¼ˆå¦‚A5sï¼‰ã€‚' }
                    ]
                },
                {
                    position: 'MP',
                    yourHand: ['9â™ ', '9â™¥'],
                    action: 'ä½ åœ¨MPåŠ æ³¨åˆ°3BB',
                    situation: 'BTN 3-Betåˆ°10BBï¼ˆBTNç©å¾—æ ‡å‡†ï¼Œ3-Beté¢‘ç‡12%ï¼‰',
                    stack: '100BB',
                    opponent: 'æ ‡å‡†TAGï¼ˆ3-Beté¢‘ç‡é€‚ä¸­ï¼‰',
                    options: [
                        { action: 'Fold', correct: false, reason: '99å¤ªå¼ºäº†ä¸èƒ½foldã€‚è¿™æ˜¯å¸¸è§é”™è¯¯ã€‚' },
                        { action: 'Call', correct: true, reason: 'âœ… 99åœ¨è¿™ä¸ªåœºæ™¯æœ€å¥½çš„é€‰æ‹©æ˜¯callã€‚ä½ æœ‰set miningä»·å€¼ï¼Œè€Œä¸”å¦‚æœä¸­æš—ä¸‰æ¡å¯ä»¥èµ¢å¤§åº•æ± ã€‚Foldå¤ªå¼±ï¼Œ4-Betå¤ªæ¿€è¿›ã€‚' },
                        { action: '4-Betåˆ°25BB', correct: false, reason: 'âŒ è¿‡åº¦æ¿€è¿›ï¼99é¢å¯¹æ ‡å‡†3-Betä¸åº”è¯¥4-Betã€‚4-Betåªä¼šè¢«æ›´å¼ºçš„ç‰Œcallï¼ˆTT+/AKï¼‰ï¼Œè€Œä¸”å¤±å»set miningä»·å€¼ã€‚' }
                    ]
                }
            ],
            module2: [
                {
                    position: 'BTN',
                    yourHand: ['Aâ™¥', 'Aâ™ '],
                    action: 'ä½ åœ¨BTNå¼€å±€åŠ æ³¨åˆ°3BB',
                    situation: 'SB 3-Betåˆ°10BB',
                    stack: '100BB',
                    opponent: 'ä»»ä½•ç±»å‹å¯¹æ‰‹',
                    options: [
                        { action: 'Fold', correct: false, reason: 'âŒ AAæ°¸è¿œä¸foldï¼' },
                        { action: 'Call', correct: false, reason: 'âŒ AAå¤ªå¼ºäº†ï¼Œå¿…é¡»4-Betå»ºç«‹å¤§åº•æ± ã€‚Slow playä¼šæŸå¤±ä»·å€¼ã€‚' },
                        { action: '4-Betåˆ°25BB', correct: true, reason: 'âœ… AAæ˜¯å¿…é¡»4-Betçš„ç‰Œã€‚ä½ æƒ³å»ºç«‹å¤§åº•æ± ï¼Œè€Œä¸”é¢å¯¹5-Betå¯ä»¥å…¨ä¸‹ã€‚è¿™æ˜¯ä»·å€¼4-Betï¼Œä¸æ˜¯è¯ˆå”¬ã€‚' }
                    ]
                },
                {
                    position: 'CO',
                    yourHand: ['Aâ™ ', '5â™ '],
                    action: 'ä½ åœ¨COåŠ æ³¨åˆ°2.5BB',
                    situation: 'BTN 3-Betåˆ°9BBï¼ˆBTNæ˜¯LAGï¼Œ3-Beté¢‘ç‡28%ï¼‰',
                    stack: '100BB',
                    opponent: 'LAGæ¾æ‰‹ï¼ˆ3-BetèŒƒå›´å¾ˆå®½ï¼‰',
                    options: [
                        { action: 'Fold', correct: false, reason: 'å¯¹æŠ—LAGçš„å®½3-BetèŒƒå›´ï¼ŒA5s foldæ‰äº†EVã€‚' },
                        { action: 'Call', correct: false, reason: 'A5sä¸é€‚åˆcall 3-Betï¼Œç¿»ç‰Œåå¾ˆéš¾æ‰“ã€‚' },
                        { action: '4-Betåˆ°22BBï¼ˆè¯ˆå”¬4-Betï¼‰', correct: true, reason: 'âœ… å¯¹æŠ—LAGçš„å®½3-Betï¼ŒA5sæ˜¯å®Œç¾çš„è¯ˆå”¬4-Betç‰Œã€‚å®ƒæœ‰åšæœæ½œåŠ›ï¼ˆåŒèŠ±/é¡ºå­ï¼‰ï¼Œä½†ç°åœ¨ä»·å€¼ä¸è¶³ä»¥callã€‚4-Betå¯ä»¥è®©å¯¹æ‰‹foldæ‰å¾ˆå¤šç‰Œã€‚' }
                    ]
                },
                {
                    position: 'MP',
                    yourHand: ['Jâ™¥', 'Jâ™ '],
                    action: 'ä½ åœ¨MPåŠ æ³¨åˆ°3BB',
                    situation: 'BTN 3-Betåˆ°10BBï¼ˆæ ‡å‡†TAGç©å®¶ï¼‰',
                    stack: '100BB',
                    opponent: 'æ ‡å‡†TAG',
                    options: [
                        { action: 'Fold', correct: false, reason: 'JJå¤ªå¼ºäº†ï¼Œä¸èƒ½foldã€‚' },
                        { action: 'Call', correct: true, reason: 'âœ… JJé¢å¯¹3-Betæœ€å¹³è¡¡çš„æ‰“æ³•æ˜¯callã€‚4-Betå¤ªæ¿€è¿›ï¼ˆä¼šè¢«QQ+/AKå‹åˆ¶ï¼‰ï¼Œfoldå¤ªå¼±ã€‚Callå¯ä»¥çœ‹ç¿»ç‰Œï¼Œæœ‰set miningä»·å€¼ã€‚' },
                        { action: '4-Betåˆ°25BB', correct: false, reason: 'âŒ è¿‡åº¦æ¿€è¿›çš„å…¸å‹æ¡ˆä¾‹ï¼JJ 4-Betåªä¼šè¢«QQ+/AK callæˆ–re-raiseï¼Œä½ å¤„äºflipæˆ–è¢«å‹åˆ¶çš„çŠ¶æ€ã€‚' }
                    ]
                }
            ],
            module3: [
                {
                    position: 'BTN',
                    yourHand: ['Qâ™¦', 'Qâ™ '],
                    action: 'ä½ åœ¨BTNåŠ æ³¨åˆ°3BB',
                    situation: 'SB 3-Betåˆ°10BBï¼ˆè¿™ä¸ªSBæ˜¯nitï¼Œè¿‡å»20æ‰‹åª3-Betè¿‡1æ¬¡ï¼Œæ‹¿çš„æ˜¯AAï¼‰',
                    stack: '100BB',
                    opponent: 'è¶…çº§ç´§æ‰‹ï¼ˆåªç”¨AA/KK 3-Betï¼‰',
                    options: [
                        { action: 'Fold', correct: true, reason: 'âœ… è¯»æ‡‚å¯¹æ‰‹å¾ˆé‡è¦ï¼è™½ç„¶QQæ˜¯å¼ºç‰Œï¼Œä½†å¯¹æŠ—ä¸€ä¸ªåªç”¨AA/KK 3-Betçš„nitï¼Œä½ åº”è¯¥foldã€‚è¿™ä¸æ˜¯ç†è®ºæ‰“æ³•ï¼Œè€Œæ˜¯å‰¥å‰Šæ€§è°ƒæ•´ã€‚' },
                        { action: 'Call', correct: false, reason: 'âš ï¸ å¯ä»¥è€ƒè™‘ï¼Œä½†é¢å¯¹AA/KKï¼Œä½ çš„equityå¾ˆå·®ï¼ˆ18% vs AAï¼‰ã€‚é™¤éä½ ç¿»ç‰Œä¸­setï¼Œå¦åˆ™ä¼šè¾“æ‰å¤§åº•æ± ã€‚' },
                        { action: '4-Bet', correct: false, reason: 'âŒ é€é’±ï¼å¯¹æŠ—åªç”¨AA/KK 3-Betçš„å¯¹æ‰‹ï¼Œ4-Betåªä¼šè¢«5-Betï¼Œç„¶åä½ ä¸å¾—ä¸foldã€‚' }
                    ]
                },
                {
                    position: 'CO',
                    yourHand: ['8â™ ', '8â™¥'],
                    action: 'ä½ åœ¨COåŠ æ³¨åˆ°2.5BB',
                    situation: 'BTN 3-Betåˆ°9BBï¼ˆè¿™ä¸ªBTNæ˜¯ç–¯å­ï¼Œ3-Beté¢‘ç‡40%ï¼‰',
                    stack: '100BB',
                    opponent: 'è¶…çº§LAGï¼ˆ3-Bet rangeæå®½ï¼ŒåŒ…æ‹¬åƒåœ¾ç‰Œï¼‰',
                    options: [
                        { action: 'Fold', correct: false, reason: 'å¯¹æŠ—40%çš„3-Beté¢‘ç‡ï¼Œ88 foldå¤ªå¼±äº†ã€‚' },
                        { action: 'Call', correct: true, reason: 'âœ… 88é¢å¯¹ç–¯å­çš„3-Betï¼Œcallæ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä½ æœ‰set miningä»·å€¼ï¼Œè€Œä¸”å¯¹æ‰‹rangeå¾ˆå¼±ï¼Œç¿»ç‰Œåä½ å¯ä»¥ç»å¸¸èµ¢ä¸‹åº•æ± ã€‚' },
                        { action: '4-Betåˆ°22BB', correct: false, reason: 'âš ï¸ å¯ä»¥è€ƒè™‘ï¼Œä½†88æ˜¯è¾¹ç¼˜çš„4-Betç‰Œã€‚å¦‚æœå¯¹æ‰‹ç»å¸¸foldç»™4-Betï¼Œå¯ä»¥ï¼›ä½†å¦‚æœå¯¹æ‰‹å–œæ¬¢call/5-Betï¼Œ88ä¼šå¾ˆéš¾æ‰“ã€‚' }
                    ]
                }
            ],
            module4: [
                {
                    position: 'EP',
                    yourHand: ['Aâ™£', 'Kâ™¥'],
                    action: 'ä½ åœ¨EPåŠ æ³¨åˆ°3BB',
                    situation: 'MP 3-Betåˆ°10BBï¼ˆMPæ˜¯æ ‡å‡†ç©å®¶ï¼‰',
                    stack: '100BB',
                    opponent: 'æ ‡å‡†TAG',
                    options: [
                        { action: 'Fold', correct: false, reason: 'AKå¤ªå¼ºäº†ä¸èƒ½foldã€‚' },
                        { action: 'Call', correct: false, reason: 'âš ï¸ AKåœ¨OOP call 3-Betä¸æ˜¯æœ€ä¼˜ã€‚ç¿»ç‰Œåéš¾æ‰“ã€‚' },
                        { action: '4-Betåˆ°25BB', correct: true, reason: 'âœ… EPçš„AKé¢å¯¹3-Betåº”è¯¥4-Betã€‚AKæ˜¯ä½ EPèŒƒå›´çš„é¡¶ç«¯ï¼Œé¢å¯¹5-Betå¯ä»¥callã€‚ä½†è¦æ³¨æ„å¯¹æ‰‹æ˜¯è¶…çº§ç´§æ‰‹æ—¶è€ƒè™‘foldã€‚' }
                    ]
                },
                {
                    position: 'MP',
                    yourHand: ['Aâ™¥', 'Qâ™ '],
                    action: 'ä½ åœ¨MPåŠ æ³¨åˆ°3BB',
                    situation: 'CO 3-Betåˆ°10BBï¼ˆCOæ˜¯æ ‡å‡†ç©å®¶ï¼‰',
                    stack: '100BB',
                    opponent: 'æ ‡å‡†TAG',
                    options: [
                        { action: 'Fold', correct: true, reason: 'âœ… AQé¢å¯¹ä½ç½®ç©å®¶çš„3-Betåº”è¯¥foldã€‚ä½ åœ¨OOPï¼Œè¢«3-Bet rangeå‹åˆ¶ï¼ˆä»–æœ‰AK/QQ+ï¼‰ï¼Œç¿»ç‰Œåå¾ˆéš¾æ‰“ã€‚' },
                        { action: 'Call', correct: false, reason: 'âŒ AQåœ¨OOP call 3-Betæ˜¯äºé’±æ‰“æ³•ã€‚å³ä½¿å‡»ä¸­top pairï¼Œä¹Ÿä¸çŸ¥é“è‡ªå·±æ˜¯å¦é¢†å…ˆã€‚' },
                        { action: '4-Bet', correct: false, reason: 'âŒ å…¸å‹çš„è¿‡åº¦æ¿€è¿›ï¼AQä¸åº”è¯¥4-Betï¼Œä½ ä¼šè¢«AK/QQ+å‹åˆ¶ï¼Œåªèƒ½foldæ‰5-Betã€‚' }
                    ]
                }
            ],
            module5: [
                {
                    position: 'BTN',
                    yourHand: ['7â™¦', '7â™£'],
                    action: 'ä½ åœ¨BTNåŠ æ³¨åˆ°3BBï¼ŒSB 3-Betåˆ°10BBï¼Œä½ 4-Betåˆ°28BB',
                    situation: 'SB 5-Bet ALL-IN 100BBï¼ˆSBæ˜¯ç´§æ‰‹ï¼‰',
                    stack: '100BB',
                    opponent: 'ç´§æ‰‹ï¼ˆ5-Bet range = AA/KKï¼‰',
                    options: [
                        { action: 'Fold', correct: true, reason: 'âœ… å¿…é¡»foldï¼77é¢å¯¹ç´§æ‰‹çš„5-Betåªæœ‰15%èƒœç‡ã€‚ä½ ä¹‹å‰çš„4-Betå°±æ˜¯é”™è¯¯ï¼Œç°åœ¨å¿…é¡»åŠæ—¶æ­¢æŸã€‚è¿™å°±æ˜¯è¿‡åº¦æ¿€è¿›çš„ä»£ä»·ã€‚' },
                        { action: 'Callï¼ˆAll-Inï¼‰', correct: false, reason: 'âŒ é€é’±ï¼é¢å¯¹ç´§æ‰‹5-Betï¼Œ77åªæ˜¯åœ¨èµŒåšã€‚å³ä½¿å¯¹æ‰‹æœ‰KKï¼Œä½ ä¹Ÿåªæœ‰18%èƒœç‡ã€‚è¿™æ˜¯ç»å…¸çš„å¤±æ§å‡çº§é™·é˜±ã€‚' }
                    ]
                },
                {
                    position: 'CO',
                    yourHand: ['Aâ™ ', 'Kâ™£'],
                    action: 'ä½ åœ¨COåŠ æ³¨åˆ°2.5BBï¼ŒBTN 3-Betåˆ°9BBï¼Œä½ 4-Betåˆ°24BB',
                    situation: 'BTN 5-Betåˆ°55BBï¼ˆBTNæ˜¯æ ‡å‡†TAGï¼‰',
                    stack: '100BB',
                    opponent: 'æ ‡å‡†TAGï¼ˆ5-Bet range = QQ+/AKï¼‰',
                    options: [
                        { action: 'Fold', correct: false, reason: 'AKé¢å¯¹TAGçš„5-Betä¸èƒ½foldï¼Œå¤ªå¼±äº†ã€‚' },
                        { action: 'Call/All-In', correct: true, reason: 'âœ… AKé¢å¯¹æ ‡å‡†TAGçš„5-Betåº”è¯¥callã€‚ä½ å¯¹æŠ—QQ+/AK rangeæœ‰45%+çš„equityï¼Œè€Œä¸”åº•æ± èµ”ç‡å¾ˆå¥½ã€‚è¿™æ˜¯æ­£ç¡®çš„æ¿€è¿›ã€‚' }
                    ]
                }
            ],
            module6: [
                {
                    position: 'BTN',
                    yourHand: ['Kâ™ ', 'Jâ™ '],
                    action: 'ä½ åœ¨BTNåŠ æ³¨åˆ°3BB',
                    situation: 'BB 3-Betåˆ°12BBï¼ˆBBæ˜¯æ¾å‡¶ç©å®¶ï¼Œ3-Beté¢‘ç‡22%ï¼‰',
                    stack: '100BB',
                    opponent: 'LAGï¼ˆ3-Bet rangeè¾ƒå®½ï¼‰',
                    options: [
                        { action: 'Fold', correct: true, reason: 'âœ… KJsé¢å¯¹3-Betåº”è¯¥foldã€‚è™½ç„¶å¯¹æ‰‹å¯èƒ½è¯ˆå”¬ï¼Œä½†KJsä¸å¤Ÿå¼ºï¼Œcallä¼šOOPæ‰“å¤§åº•æ± ï¼Œ4-Betåˆå¤ªæ¿€è¿›ã€‚Foldæ˜¯æœ€ç¨³å¦¥çš„é€‰æ‹©ã€‚' },
                        { action: 'Call', correct: false, reason: 'âŒ KJsåœ¨OOP call 3-Betæ˜¯äºé’±æ‰“æ³•ã€‚ç¿»ç‰Œåä½ ä¼šé¢å¯¹å¾ˆå¤šå›°éš¾å†³ç­–ï¼Œå®¹æ˜“ä¸¢å¤±å¤§é‡ç­¹ç ã€‚' },
                        { action: '4-Betåˆ°25BB', correct: false, reason: 'âŒ è¿‡åº¦æ¿€è¿›ï¼KJsä¸æ˜¯4-Betç‰Œã€‚å¦‚æœæƒ³4-Bet bluffï¼Œåº”è¯¥ç”¨blockersæ›´å¥½çš„ç‰Œï¼ˆå¦‚A5sï¼‰ã€‚' }
                    ]
                },
                {
                    position: 'SB',
                    yourHand: ['Qâ™ ', 'Qâ™¥'],
                    action: 'BTNåŠ æ³¨åˆ°3BBï¼Œä½ åœ¨SB 3-Betåˆ°12BB',
                    situation: 'BTN 4-Betåˆ°30BBï¼ˆBTNæ˜¯æ ‡å‡†ç©å®¶ï¼‰',
                    stack: '100BB',
                    opponent: 'æ ‡å‡†TAGï¼ˆ4-Bet range = JJ+/AKï¼‰',
                    options: [
                        { action: 'Fold', correct: false, reason: 'QQé¢å¯¹4-Betä¸åº”è¯¥foldï¼Œå¤ªå¼±äº†ã€‚' },
                        { action: 'Call', correct: true, reason: 'âœ… QQé¢å¯¹æ ‡å‡†4-Betæœ€å¥½çš„æ‰“æ³•æ˜¯callã€‚ä½ æœ‰30%æœºä¼šç¿»ç‰Œå‡»ä¸­setï¼Œè€Œä¸”æœ‰ä½ç½®ä¼˜åŠ¿ã€‚5-Betå¤ªæ¿€è¿›ï¼ˆåªè¢«KK/AA callï¼‰ã€‚' },
                        { action: '5-Bet All-In', correct: false, reason: 'âŒ è¿‡åº¦æ¿€è¿›ï¼QQå¯¹æŠ—æ ‡å‡†4-Bet range (JJ+/AK) æ˜¯flipæˆ–ç•¥å¾®é¢†å…ˆï¼Œä½†5-Bet all-inåªä¼šè¢«KK/AA callï¼Œä½ ä¼šæŸå¤±å¾ˆå¤šEVã€‚' }
                    ]
                },
                {
                    position: 'CO',
                    yourHand: ['Tâ™¥', 'Tâ™ '],
                    action: 'ä½ åœ¨COåŠ æ³¨åˆ°2.5BB',
                    situation: 'BTN 3-Betåˆ°9BBï¼ˆBTN 3-Beté¢‘ç‡15%ï¼‰',
                    stack: '100BB',
                    opponent: 'æ ‡å‡†ç©å®¶',
                    options: [
                        { action: 'Fold', correct: false, reason: 'TTå¤ªå¼ºäº†ï¼Œä¸èƒ½foldã€‚' },
                        { action: 'Call', correct: true, reason: 'âœ… TTé¢å¯¹æ ‡å‡†3-Betåº”è¯¥callã€‚Set miningä»·å€¼å¾ˆé«˜ï¼Œ4-Betä¼šè¢«JJ+å‹åˆ¶ã€‚è¿™æ˜¯å¹³è¡¡çš„æ‰“æ³•ã€‚' },
                        { action: '4-Betåˆ°22BB', correct: false, reason: 'âŒ è¿‡åº¦æ¿€è¿›ï¼TT 4-Betä¼šè¢«JJ+/AK callæˆ–re-raiseï¼Œä½ å¤„äºä¸åˆ©ä½ç½®ã€‚Callæ›´æœ‰åˆ©å¯å›¾ã€‚' }
                    ]
                },
                {
                    position: 'BTN',
                    yourHand: ['Aâ™¦', 'Jâ™¦'],
                    action: 'ä½ åœ¨BTNåŠ æ³¨åˆ°3BB',
                    situation: 'BB 3-Betåˆ°11BBï¼ˆBBæ˜¯è¶…çº§ç´§æ‰‹ï¼Œ3-Beté¢‘ç‡5%ï¼‰',
                    stack: '100BB',
                    opponent: 'Nitï¼ˆåªç”¨AA/KK/QQ/AK 3-Betï¼‰',
                    options: [
                        { action: 'Fold', correct: true, reason: 'âœ… è¯»æ‡‚å¯¹æ‰‹ï¼AJsé¢å¯¹åªç”¨é¡¶çº§ç‰Œ3-Betçš„nitå¿…é¡»foldã€‚ä½ è¢«ä¸¥é‡å‹åˆ¶ï¼ˆå¯¹æŠ—QQ+/AKåªæœ‰30-35%èƒœç‡ï¼‰ã€‚' },
                        { action: 'Call', correct: false, reason: 'âŒ å³ä½¿æœ‰ä½ç½®ï¼ŒAJs callä¹Ÿæ˜¯äºé’±çš„ã€‚å¯¹æ‰‹rangeå¤ªå¼ºï¼Œä½ ç¿»ç‰Œåå¾ˆå°‘èƒ½æŒç»­ã€‚' },
                        { action: '4-Bet', correct: false, reason: 'âŒ æåº¦è¿‡åº¦æ¿€è¿›ï¼å¯¹æŠ—nit 4-Betåªä¼šè¢«5-Betï¼Œç„¶åä½ å¿…é¡»foldï¼Œç™½ç™½æŸå¤±ç­¹ç ã€‚' }
                    ]
                },
                {
                    position: 'MP',
                    yourHand: ['Kâ™¥', 'Kâ™ '],
                    action: 'ä½ åœ¨MPåŠ æ³¨åˆ°3BB',
                    situation: 'BTN 3-Betåˆ°10BBï¼ˆBTNæ˜¯æ ‡å‡†ç©å®¶ï¼‰',
                    stack: '100BB',
                    opponent: 'æ ‡å‡†TAG',
                    options: [
                        { action: 'Fold', correct: false, reason: 'KKç»å¯¹ä¸èƒ½foldï¼' },
                        { action: 'Call', correct: false, reason: 'âŒ KKå¤ªå¼ºäº†ï¼Œcallä¼šæŸå¤±ä»·å€¼ã€‚å¿…é¡»4-Betå»ºç«‹å¤§åº•æ± ã€‚' },
                        { action: '4-Betåˆ°26BB', correct: true, reason: 'âœ… KKå¿…é¡»4-Betï¼ä½ æƒ³å»ºç«‹å¤§åº•æ± è·å–ä»·å€¼ï¼Œè€Œä¸”é¢å¯¹5-Betï¼ˆé€šå¸¸åªæœ‰AAï¼‰å¯ä»¥è€ƒè™‘callã€‚è¿™æ˜¯ä»·å€¼4-Betçš„æ ‡å‡†ç‰Œã€‚' }
                    ]
                }
            ]
        };

        // çŠ¶æ€ç®¡ç†
        let currentModule = null;
        let currentQuestion = 0;
        let stats = {
            total: 0,
            correct: 0,
            aggressive: 0,  // è¿‡åº¦æ¿€è¿›çš„æ¬¡æ•°
            foldCorrect: 0,
            foldTotal: 0
        };

        // å¼€å§‹æ¨¡å—
        function startModule(moduleNum) {
            currentModule = moduleNum;
            currentQuestion = 0;
            
            // æ›´æ–°æ¨¡å—å¡ç‰‡çŠ¶æ€
            document.querySelectorAll('.module-card').forEach((card, index) => {
                card.classList.remove('active');
                if (index + 1 === moduleNum) {
                    card.classList.add('active');
                }
            });

            // æ˜¾ç¤ºè®­ç»ƒåŒºåŸŸ
            document.getElementById('trainingArea').classList.add('show');
            
            // åŠ è½½ç¬¬ä¸€é¢˜
            loadQuestion();
        }

        // åŠ è½½é—®é¢˜
        function loadQuestion() {
            const moduleData = trainingData[`module${currentModule}`];
            if (!moduleData || currentQuestion >= moduleData.length) {
                showModuleComplete();
                return;
            }

            const q = moduleData[currentQuestion];
            const container = document.getElementById('scenarioContainer');
            
            container.innerHTML = `
                <div class="scenario-header">
                    <div class="scenario-info">
                        <span class="position-info">ä½ç½®: ${q.position}</span>
                        <span class="position-info">ç­¹ç : ${q.stack}</span>
                    </div>
                </div>

                <div class="hand-display">
                    <span class="card ${isRed(q.yourHand[0]) ? 'red' : ''}">${q.yourHand[0]}</span>
                    <span class="card ${isRed(q.yourHand[1]) ? 'red' : ''}">${q.yourHand[1]}</span>
                </div>

                <div class="action-situation">
                    <h3>åœºæ™¯ï¼š</h3>
                    <p>${q.action}</p>
                    <p><strong>${q.situation}</strong></p>
                </div>

                <div class="opponent-profile">
                    <strong>å¯¹æ‰‹ç±»å‹ï¼š</strong> ${q.opponent}
                </div>

                <div style="text-align: center; margin: 20px 0; font-size: 1.2em; color: #f1c40f;">
                    <strong>ä½ ä¼šæ€ä¹ˆåšï¼Ÿ</strong>
                </div>

                <div class="action-buttons">
                    ${q.options.map((opt, idx) => `
                        <button class="action-btn ${getButtonClass(opt.action)}" onclick="checkAnswer(${idx})">
                            ${opt.action}
                        </button>
                    `).join('')}
                </div>
            `;

            // éšè—åé¦ˆå’Œä¸‹ä¸€é¢˜æŒ‰é’®
            document.getElementById('feedback').classList.remove('show');
            document.getElementById('nextBtn').style.display = 'none';
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(optionIndex) {
            const moduleData = trainingData[`module${currentModule}`];
            const q = moduleData[currentQuestion];
            const selected = q.options[optionIndex];
            
            stats.total++;

            // ç¦ç”¨æ‰€æœ‰æŒ‰é’®
            document.querySelectorAll('.action-btn').forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.5';
            });

            // æ˜¾ç¤ºåé¦ˆ
            const feedback = document.getElementById('feedback');
            let feedbackClass = 'wrong';
            let feedbackIcon = 'âŒ';

            if (selected.correct) {
                stats.correct++;
                feedbackClass = 'correct';
                feedbackIcon = 'âœ…';
                
                // å¦‚æœé€‰æ‹©äº†æ­£ç¡®çš„foldï¼Œè®°å½•
                if (selected.action === 'Fold' || selected.action.includes('Fold')) {
                    stats.foldCorrect++;
                    stats.foldTotal++;
                }
            } else {
                // æ£€æŸ¥æ˜¯å¦è¿‡åº¦æ¿€è¿›
                if (selected.action.includes('4-Bet') || selected.action.includes('Raise') || selected.action.includes('Re-raise')) {
                    stats.aggressive++;
                    feedbackClass = 'warning';
                    feedbackIcon = 'âš ï¸';
                }
                
                if (selected.action === 'Fold') {
                    stats.foldTotal++;
                }
            }

            feedback.className = `feedback ${feedbackClass} show`;
            feedback.innerHTML = `
                <h3>${feedbackIcon} ${selected.correct ? 'æ­£ç¡®ï¼' : selected.action.includes('4-Bet') || selected.action.includes('Raise') ? 'è¿‡åº¦æ¿€è¿›ï¼' : 'é”™è¯¯ï¼'}</h3>
                <div class="explanation">
                    <strong>åˆ†æï¼š</strong>${selected.reason}
                </div>
                ${!selected.correct ? `
                    <div class="explanation" style="margin-top: 15px; border: 2px solid #2ecc71;">
                        <strong>âœ… æ­£ç¡®ç­”æ¡ˆï¼š</strong>
                        ${q.options.find(o => o.correct).reason}
                    </div>
                ` : ''}
            `;

            // æ›´æ–°ç»Ÿè®¡
            updateStats();

            // æ˜¾ç¤ºä¸‹ä¸€é¢˜æŒ‰é’®
            document.getElementById('nextBtn').style.display = 'block';
        }

        // ä¸‹ä¸€é¢˜
        function nextScenario() {
            currentQuestion++;
            loadQuestion();
        }

        // æ¨¡å—å®Œæˆ
        function showModuleComplete() {
            const container = document.getElementById('scenarioContainer');
            const accuracy = stats.total > 0 ? Math.round((stats.correct / stats.total) * 100) : 0;
            
            container.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <h2>ğŸ‰ æ¨¡å— ${currentModule} å®Œæˆï¼</h2>
                    <div class="stats-panel" style="margin: 30px auto; max-width: 600px;">
                        <div class="stat-card">
                            <div class="stat-label">æ­£ç¡®ç‡</div>
                            <div class="stat-value">${accuracy}%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">å®Œæˆé¢˜ç›®</div>
                            <div class="stat-value">${stats.total}</div>
                        </div>
                    </div>
                    <button class="next-btn" onclick="location.reload()">è¿”å›é€‰æ‹©æ¨¡å—</button>
                </div>
            `;
            
            document.getElementById('feedback').classList.remove('show');
            document.getElementById('nextBtn').style.display = 'none';
        }

        // æ›´æ–°ç»Ÿè®¡
        function updateStats() {
            const accuracy = stats.total > 0 ? Math.round((stats.correct / stats.total) * 100) : 0;
            const aggressionRate = stats.total > 0 ? Math.round((stats.aggressive / stats.total) * 100) : 0;
            const foldAcc = stats.foldTotal > 0 ? Math.round((stats.foldCorrect / stats.foldTotal) * 100) : 0;

            document.getElementById('accuracy').textContent = accuracy + '%';
            document.getElementById('completed').textContent = `${stats.correct}/${stats.total}`;
            document.getElementById('aggression').textContent = aggressionRate + '%';
            document.getElementById('foldAccuracy').textContent = foldAcc + '%';

            // æ›´æ–°è¿›æ”»æ€§æŒ‡ç¤ºå™¨
            const indicator = document.getElementById('aggressionIndicator');
            const position = 100 - aggressionRate;  // 100% æ¿€è¿› = 0% ä½ç½®ï¼ˆå³è¾¹ï¼‰
            indicator.style.left = position + '%';
        }

        // è¾…åŠ©å‡½æ•°
        function isRed(card) {
            return card.includes('â™¥') || card.includes('â™¦');
        }

        function getButtonClass(action) {
            if (action.includes('Fold')) return 'fold';
            if (action.includes('Call')) return 'call';
            if (action.includes('4-Bet') || action.includes('Re-raise')) return 'reraise';
            if (action.includes('Raise')) return 'raise';
            return '';
        }
    </script>
</body>
</html>

