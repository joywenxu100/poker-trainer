// å®æˆ˜è¡ŒåŠ¨æŒ‡å— - æ ¸å¿ƒé€»è¾‘
// èšç„¦ï¼šå‘Šè¯‰ç”¨æˆ·è¯¥åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯ç†è®ºçŸ¥è¯†

let gameState = {
    street: 'turn',
    hand: 'top-two',
    opponentAction: 'check',
    danger: 'dangerous'
};

document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('[data-street], [data-hand], [data-action], [data-danger]').forEach(btn => {
        btn.addEventListener('click', function() {
            selectButton(this);
            
            if(btn.dataset.street) gameState.street = btn.dataset.street;
            if(btn.dataset.hand) gameState.hand = btn.dataset.hand;
            if(btn.dataset.action) gameState.opponentAction = btn.dataset.action;
            if(btn.dataset.danger) gameState.danger = btn.dataset.danger;
        });
    });
});

function selectButton(btn) {
    const group = btn.closest('.btn-group');
    group.querySelectorAll('.btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
}

function analyzeAndAlert() {
    const pot = parseFloat(document.getElementById('potSize').value) || 50;
    const recommendations = generateRecommendations(pot);
    displayRecommendations(recommendations);
    document.getElementById('alertSection').classList.add('show');
    document.getElementById('alertSection').scrollIntoView({ behavior: 'smooth' });
}

function generateRecommendations(pot) {
    const recs = [];
    const { street, hand, opponentAction, danger } = gameState;
    
    // è®¡ç®—å…·ä½“ä¸‹æ³¨é‡‘é¢
    const betSizes = {
        'third': Math.round(pot * 0.33),
        'half': Math.round(pot * 0.5),
        'twoThird': Math.round(pot * 0.67),
        'pot': pot,
        'overbet': Math.round(pot * 1.5)
    };

    // === è½¬ç‰Œåœˆ ===
    if (street === 'turn') {
        
        // åšæœç‰Œå‹
        if (hand === 'nuts-flush' || hand === 'nuts-straight' || hand === 'fullhouse') {
            recs.push({
                type: 'success',
                title: `ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ ${betSizes.twoThird}BBï¼ˆ2/3åº•æ± ï¼‰`,
                content: [
                    `âœ… å…·ä½“æ“ä½œï¼šä¸‹æ³¨ ${betSizes.twoThird}BB`,
                    `  â€¢ åº•æ± ç°åœ¨${pot}BB`,
                    `  â€¢ ä½ ä¸‹æ³¨ååº•æ± å˜æˆ${pot + betSizes.twoThird}BB`,
                    '',
                    'âœ… ä¸ºä»€ä¹ˆè¿™ä¸ªå°ºåº¦ï¼š',
                    '  â€¢ 2/3 pot = æ ‡å‡†ä»·å€¼ä¸‹æ³¨å°ºå¯¸',
                    '  â€¢ ä¸ä¼šæŠŠå¯¹æ‰‹å“è·‘ï¼Œåˆèƒ½å»ºç«‹å¤§åº•æ± ',
                    '',
                    'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                    '  â€¢ ç›´æ¥å…¨ä¸‹ï¼ä½ æœ‰åšæœ',
                    '',
                    'ğŸš¨ ç»ä¸è¦çŠ¯çš„é”™è¯¯ï¼š',
                    '  â€¢ âŒ æ…¢æ‰“ï¼ˆè¿‡ç‰Œï¼‰â†’ ç»™å…è´¹ç‰Œ â†’ æ²³ç‰Œå¯èƒ½è¢«è¶…è¶Š',
                    '  â€¢ âŒ å°é¢ä¸‹æ³¨ < 1/2 pot â†’ æµªè´¹ä½ çš„åšæœä»·å€¼'
                ]
            });
            
            recs.push({
                type: 'info',
                title: 'ğŸ’¡ æ²³ç‰Œè®¡åˆ’',
                content: [
                    `å¦‚æœå¯¹æ‰‹è·Ÿæ³¨${betSizes.twoThird}BBï¼š`,
                    `  â€¢ æ²³ç‰Œåº•æ±  = ${pot + betSizes.twoThird * 2}BB`,
                    `  â€¢ æ²³ç‰Œä½ å†ä¸‹æ³¨ ${Math.round((pot + betSizes.twoThird * 2) * 0.75)}BBï¼ˆ3/4 potï¼‰`,
                    '',
                    'æ²³ç‰Œå¯¹æ‰‹åŠ¨ä½œï¼š',
                    '  â€¢ å¯¹æ‰‹check â†’ ä½ ä¸‹æ³¨ 3/4 pot',
                    '  â€¢ å¯¹æ‰‹ä¸‹æ³¨ â†’ ä½ åŠ æ³¨æˆ–å…¨ä¸‹'
                ]
            });
        }
        
        // æš—ä¸‰
        else if (hand === 'set') {
            if (danger === 'dangerous' || danger === 'very-dangerous') {
                recs.push({
                    type: 'success',
                    title: `ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ ${betSizes.twoThird}BBï¼ˆ2/3åº•æ± ï¼‰`,
                    content: [
                        `âœ… å…·ä½“æ“ä½œï¼šä¸‹æ³¨ ${betSizes.twoThird}BB`,
                        `  â€¢ åº•æ± ç°åœ¨${pot}BB`,
                        `  â€¢ å¿…é¡»ä¿æŠ¤æ‰‹ç‰Œï¼`,
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ ç‰Œé¢æœ‰3å¼ åŒèŠ± â†’ è°¨æ…è·Ÿæ³¨ï¼ˆå¯¹æ‰‹å¯èƒ½åŒèŠ±ï¼‰',
                        '  â€¢ ç‰Œé¢æœ‰4é¡ºå­ â†’ è°¨æ…è·Ÿæ³¨ï¼ˆå¯¹æ‰‹å¯èƒ½é¡ºå­ï¼‰',
                        '  â€¢ ç‰Œé¢ç›¸å¯¹å®‰å…¨ â†’ å…¨ä¸‹ï¼',
                        '',
                        'ğŸš¨ æ²³ç‰Œå¿…é¡»æ³¨æ„çš„åœºæ™¯ï¼š',
                        '  â€¢ æ²³ç‰Œå®ŒæˆåŒèŠ±ï¼Œå¯¹æ‰‹ä¸‹æ³¨ â‰¥ 1/2 pot â†’ ä½ è¦èƒ½å¼ƒæ‰æš—ä¸‰ï¼',
                        '  â€¢ æ²³ç‰Œå®Œæˆé¡ºå­ï¼Œå¯¹æ‰‹ä¸‹æ³¨ â‰¥ 1/2 pot â†’ ä½ è¦èƒ½å¼ƒæ‰æš—ä¸‰ï¼',
                        '',
                        'ğŸ’¡ æ˜¨å¤©çš„æ•™è®­ï¼š',
                        '  â€¢ è½¬ç‰Œç»™å…è´¹ç‰Œ â†’ æ²³ç‰Œå¯¹æ‰‹ä¸­Nuts â†’ ä½ è¾“å¤§åº•æ± ',
                        '  â€¢ ä»Šå¤©å¿…é¡»ï¼šè½¬ç‰Œä¿æŠ¤æ‰‹ç‰Œ â†’ æ²³ç‰Œå±é™©ç‰Œèƒ½å¼ƒæ‰'
                    ]
                });
            }
        }
        
        // é¡¶ä¸¤å¯¹
        else if (hand === 'top-two') {
            if (danger === 'dangerous' || danger === 'very-dangerous') {
                recs.push({
                    type: 'warning',
                    title: `ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ ${betSizes.half}BBï¼ˆ1/2åº•æ± ï¼‰`,
                    content: [
                        `âœ… å…·ä½“æ“ä½œï¼šä¸‹æ³¨ ${betSizes.half}BBï¼ˆæ§åˆ¶åº•æ± ï¼‰`,
                        `  â€¢ åº•æ± ç°åœ¨${pot}BB`,
                        `  â€¢ è½¬ç‰Œååº•æ± å˜æˆ${pot + betSizes.half * 2}BBï¼ˆå¦‚æœå¯¹æ‰‹è·Ÿæ³¨ï¼‰`,
                        '',
                        'âœ… ä¸ºä»€ä¹ˆè¿™ä¸ªå°ºåº¦ï¼š',
                        '  â€¢ 1/2 pot = æ§åˆ¶åº•æ± å°ºå¯¸',
                        '  â€¢ æœ‰ä»·å€¼+ä¿æŠ¤ï¼Œä½†ä¸ä¼šæŠ•å…¥å¤ªå¤š',
                        '  â€¢ æ²³ç‰Œå‡ºç°å±é™©ç‰Œå¯ä»¥è½»æ¾å¼ƒæ‰',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        `  â€¢ å°åŠ æ³¨ï¼ˆmin-raiseåˆ°${betSizes.half * 2}BBï¼‰â†’ è·Ÿæ³¨`,
                        `  â€¢ å¤§åŠ æ³¨ï¼ˆâ‰¥${betSizes.pot}BBï¼‰â†’ å¼ƒç‰Œ`,
                        '',
                        'ğŸš¨ ç»ä¸è¦çŠ¯çš„é”™è¯¯ï¼š',
                        `  â€¢ âŒ å¤§é¢ä¸‹æ³¨ â‰¥ ${betSizes.twoThird}BB â†’ æŠ•å…¥å¤ªå¤š â†’ æ²³ç‰Œå¼ƒä¸æ‰`,
                        '  â€¢ âŒ è½¬ç‰Œè·Ÿæ³¨å¤§é¢åŠ æ³¨ â†’ æ²³ç‰Œè¢«åŠ¨ â†’ å®¹æ˜“è¾“å¤§åº•æ± ',
                        '',
                        'ğŸ’¡ æ²³ç‰Œå±é™©ç‰Œå¿…é¡»å¼ƒç‰Œï¼š',
                        '  â€¢ æ²³ç‰Œç¬¬4å¼ åŒèŠ± + å¯¹æ‰‹ä¸‹æ³¨ â†’ ä½ çš„ä¸¤å¯¹ç§’å¼ƒ',
                        '  â€¢ æ²³ç‰Œå®Œæˆé¡ºå­ + å¯¹æ‰‹ä¸‹æ³¨ â†’ ä½ çš„ä¸¤å¯¹ç§’å¼ƒ',
                        '  â€¢ æ²³ç‰Œç‰Œé¢é…å¯¹ + å¯¹æ‰‹å¤§é¢ä¸‹æ³¨ â†’ ä½ çš„ä¸¤å¯¹ç§’å¼ƒ'
                    ]
                });
            } else {
                recs.push({
                    type: 'success',
                    title: `ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ ${betSizes.twoThird}BBï¼ˆ2/3åº•æ± ï¼‰`,
                    content: [
                        `âœ… å…·ä½“æ“ä½œï¼šä¸‹æ³¨ ${betSizes.twoThird}BB`,
                        `  â€¢ åº•æ± ç°åœ¨${pot}BB`,
                        '  â€¢ ç‰Œé¢å®‰å…¨ï¼Œä»·å€¼æœ€å¤§åŒ–',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ è°¨æ…è¯„ä¼°ï¼ˆå¯¹æ‰‹å¯èƒ½æœ‰æš—ä¸‰ï¼‰',
                        '  â€¢ å¦‚æœå¯¹æ‰‹ä¸€ç›´è¢«åŠ¨ â†’ è·Ÿæ³¨',
                        '  â€¢ å¦‚æœå¯¹æ‰‹çªç„¶æ¿€è¿› â†’ å°å¿ƒé™·é˜±'
                    ]
                });
            }
        }
        
        // è¶…å¯¹/é¡¶å¯¹
        else if (hand === 'overpair' || hand === 'top-pair') {
            if (danger === 'dangerous' || danger === 'very-dangerous') {
                recs.push({
                    type: 'warning',
                    title: `ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè¿‡ç‰Œ æˆ– ä¸‹æ³¨ ${betSizes.third}BBï¼ˆ1/3åº•æ± ï¼‰`,
                    content: [
                        'âœ… é€‰é¡¹Aï¼šè¿‡ç‰Œï¼ˆæœ€å®‰å…¨ï¼‰',
                        '  â€¢ æ§åˆ¶åº•æ± ',
                        '  â€¢ çœ‹å¯¹æ‰‹ååº”',
                        '',
                        `âœ… é€‰é¡¹Bï¼šä¸‹æ³¨ ${betSizes.third}BBï¼ˆæ¢åº•ï¼‰`,
                        `  â€¢ åº•æ± ç°åœ¨${pot}BB`,
                        '  â€¢ å°é¢ä¸‹æ³¨ï¼Œä¸æŠ•å…¥å¤ªå¤š',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹ä¸‹æ³¨ï¼š',
                        `  â€¢ å¯¹æ‰‹å°é¢ä¸‹æ³¨ < ${betSizes.third}BB â†’ å¯è·Ÿæ³¨`,
                        `  â€¢ å¯¹æ‰‹ä¸‹æ³¨ â‰¥ ${betSizes.half}BB â†’ ç›´æ¥å¼ƒç‰Œ`,
                        '',
                        'ğŸš¨ ç»ä¸è¦çŠ¯çš„é”™è¯¯ï¼š',
                        `  â€¢ âŒ å¤§é¢ä¸‹æ³¨ â‰¥ ${betSizes.half}BBï¼ˆæŠ•å…¥å¤ªå¤šï¼‰`,
                        '  â€¢ âŒ å¯¹æ‰‹åŠ æ³¨è¿˜è·Ÿæ³¨ï¼ˆä¸€å¯¹ä¸å€¼å¾—è¿™ä¹ˆæ‰“ï¼‰',
                        `  â€¢ âŒ è½¬ç‰ŒæŠ•å…¥è¶…è¿‡${Math.round(pot * 0.75)}BBï¼ˆ> 3/4 potï¼‰`,
                        '',
                        'ğŸ’¡ å…³é”®åŸåˆ™ï¼š',
                        '  â€¢ è½¬ç‰Œä¸€å¯¹ç‰Œ = æ§åˆ¶åº•æ± ',
                        '  â€¢ æ²³ç‰Œå±é™©ç‰Œ = è½»æ¾å¼ƒç‰Œ',
                        '  â€¢ è½¬ç‰ŒæŠ•å…¥è¶Šå°‘ï¼Œæ²³ç‰Œè¶Šå¥½å¼ƒ'
                    ]
                });
            }
        }
        
        // æŠ½åšæœåŒèŠ±
        else if (hand === 'nuts-draw') {
            if (opponentAction === 'check') {
                recs.push({
                    type: 'success',
                    title: `ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ ${betSizes.half}BBï¼ˆ1/2åº•æ± Â·åŠè¯ˆå”¬ï¼‰`,
                    content: [
                        `âœ… å…·ä½“æ“ä½œï¼šä¸‹æ³¨ ${betSizes.half}BBï¼ˆåŠè¯ˆå”¬ï¼‰`,
                        `  â€¢ åº•æ± ç°åœ¨${pot}BB`,
                        '  â€¢ å¯¹æ‰‹å¼ƒç‰Œ â†’ ä½ ç›´æ¥èµ¢',
                        '  â€¢ å¯¹æ‰‹è·Ÿæ³¨ â†’ ä½ è¿˜æœ‰9å¼ outsï¼ˆ36%èƒœç‡ï¼‰',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ è®¡ç®—èµ”ç‡ï¼',
                        `  â€¢ å¯¹æ‰‹åŠ æ³¨åˆ°${betSizes.pot}BB â†’ ä½ éœ€è¦è·Ÿæ³¨${betSizes.pot - betSizes.half}BB`,
                        `  â€¢ èµ”ç‡ = ${betSizes.pot - betSizes.half} / ${pot + betSizes.pot * 2} â‰ˆ ${Math.round((betSizes.pot - betSizes.half) / (pot + betSizes.pot * 2) * 100)}%`,
                        '  â€¢ ä½ çš„èƒœç‡36% > èµ”ç‡ â†’ è·Ÿæ³¨',
                        '  â€¢ ä½ çš„èƒœç‡36% < èµ”ç‡ â†’ å¼ƒç‰Œ',
                        '',
                        'ğŸš¨ ç»ä¸è¦çŠ¯çš„é”™è¯¯ï¼š',
                        '  â€¢ âŒ ä¸è®¡ç®—èµ”ç‡å°±è·Ÿæ³¨ï¼ˆé€é’±ï¼‰',
                        '  â€¢ âŒ å¯¹æ‰‹å¤§é¢åŠ æ³¨è¿˜ç¡¬è·Ÿï¼ˆèµ”ç‡ä¸å¤Ÿï¼‰',
                        '',
                        'ğŸ’¡ è®°ä½ï¼š',
                        '  â€¢ åŒèŠ±å¬ç‰Œï¼ˆ9 outsï¼‰= 36%èƒœç‡ï¼ˆè½¬åˆ°æ²³ï¼‰',
                        '  â€¢ éœ€è¦èµ”ç‡è‡³å°‘3:1æ‰èƒ½è·Ÿæ³¨'
                    ]
                });
            } else if (opponentAction === 'bet-pot' || opponentAction === 'all-in') {
                recs.push({
                    type: 'critical',
                    title: 'ğŸš¨ æ¨èè¡ŒåŠ¨ï¼šå¼ƒç‰Œ',
                    content: [
                        'âŒ å¯¹æ‰‹å¤§é¢ä¸‹æ³¨ï¼Œèµ”ç‡ä¸å¤Ÿï¼š',
                        `  â€¢ å¯¹æ‰‹ä¸‹æ³¨${betSizes.pot}BB`,
                        `  â€¢ ä½ éœ€è¦è·Ÿæ³¨${betSizes.pot}BBèµ¢å¾—${pot + betSizes.pot * 2}BB`,
                        `  â€¢ èµ”ç‡ = ${Math.round(betSizes.pot / (pot + betSizes.pot * 2) * 100)}%`,
                        '  â€¢ ä½ çš„èƒœç‡36%',
                        `  â€¢ èƒœç‡ < èµ”ç‡ â†’ å¼ƒç‰Œ`,
                        '',
                        'ğŸš¨ ç»ä¸è¦çŠ¯çš„é”™è¯¯ï¼š',
                        '  â€¢ âŒ "æˆ‘æ„Ÿè§‰æ²³ç‰Œä¼šä¸­" â†’ æƒ…ç»ªåŒ–è·Ÿæ³¨',
                        '  â€¢ âŒ ä¸è®¡ç®—èµ”ç‡å°±è·Ÿæ³¨',
                        '',
                        'ğŸ’¡ èŒä¸šç©å®¶æ°¸è¿œä¸ç”¨é”™è¯¯èµ”ç‡è¿½å¬ç‰Œ'
                    ]
                });
            }
        }
    }

    return recs;
}

    // === è½¬ç‰Œåœˆ ===
    if (street === 'turn') {
        
        // åšæœç‰Œå‹
        if (hand === 'nuts-flush' || hand === 'nuts-straight' || hand === 'fullhouse') {
            recs.push({
                type: 'success',
                title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 2/3 - Pot',
                content: [
                    'âœ… ä½ æœ‰åšæœï¼æœ€å¤§åŒ–ä»·å€¼ï¼š',
                    '  â€¢ ä¸‹æ³¨ 2/3 potï¼ˆæ ‡å‡†å°ºå¯¸ï¼‰',
                    '  â€¢ å¦‚æœå¯¹æ‰‹è·Ÿæ³¨ï¼Œæ²³ç‰Œç»§ç»­ä¸‹æ³¨ Pot',
                    '',
                    'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                    '  â€¢ ç›´æ¥å…¨ä¸‹ï¼',
                    '  â€¢ ä¸è¦æ…¢æ‰“ï¼Œæ·±ç­¹ç è¦æ¿€è¿›æ‹¿ä»·å€¼',
                    '',
                    'ğŸ’¡ æ²³ç‰Œç­–ç•¥ï¼š',
                    '  â€¢ å¯¹æ‰‹check â†’ ä¸‹æ³¨ Pot',
                    '  â€¢ å¯¹æ‰‹ä¸‹æ³¨ â†’ åŠ æ³¨å…¨ä¸‹'
                ]
            });
        }
        
        // æš—ä¸‰
        else if (hand === 'set') {
            if (danger === 'dangerous' || danger === 'very-dangerous') {
                recs.push({
                    type: 'success',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 2/3 Pot',
                    content: [
                        'âœ… ä½ æœ‰æš—ä¸‰ï¼Œä½†ç‰Œé¢å±é™©ï¼š',
                        '  â€¢ å¿…é¡»ä¸‹æ³¨ä¿æŠ¤ï¼ˆä¸ç»™å¬ç‰Œä¾¿å®œæŠ½ç‰Œï¼‰',
                        '  â€¢ ä¸‹æ³¨ 2/3 pot',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ ç‰Œé¢æœ‰3å¼ åŒèŠ± â†’ è°¨æ…ï¼ˆå¯¹æ‰‹å¯èƒ½åŒèŠ±ï¼‰',
                        '  â€¢ ç‰Œé¢æœ‰4é¡ºå­ â†’ è°¨æ…ï¼ˆå¯¹æ‰‹å¯èƒ½é¡ºå­ï¼‰',
                        '  â€¢ ç‰Œé¢å®‰å…¨ â†’ å…¨ä¸‹ï¼',
                        '',
                        'ğŸš¨ æ²³ç‰Œè­¦ç¤ºï¼š',
                        '  â€¢ å¦‚æœæ²³ç‰Œå®ŒæˆåŒèŠ±/é¡ºå­',
                        '  â€¢ å¯¹æ‰‹ä¸‹æ³¨Pot+ â†’ ä½ è¦èƒ½å¼ƒæ‰æš—ä¸‰ï¼',
                        '  â€¢ è®°ä½ï¼šæš—ä¸‰è¾“ç»™åŒèŠ±/é¡ºå­ = å¸¸è§'
                    ]
                });
            } else {
                recs.push({
                    type: 'success',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 1/2 - 2/3 Pot',
                    content: [
                        'âœ… ä½ æœ‰æš—ä¸‰ï¼Œç‰Œé¢å®‰å…¨ï¼š',
                        '  â€¢ ä»·å€¼æœ€å¤§åŒ–',
                        '  â€¢ ä¸‹æ³¨ 1/2 - 2/3 pot',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ å…¨ä¸‹ï¼ï¼ˆç‰Œé¢å®‰å…¨ï¼Œä½ å¾ˆå¯èƒ½é¢†å…ˆï¼‰'
                    ]
                });
            }
        }
        
        // é¡¶ä¸¤å¯¹
        else if (hand === 'top-two') {
            if (danger === 'dangerous' || danger === 'very-dangerous') {
                recs.push({
                    type: 'warning',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 1/2 Pot æˆ– è¿‡ç‰Œ',
                    content: [
                        'âœ… ä½ æœ‰é¡¶ä¸¤å¯¹ï¼Œä½†ç‰Œé¢å±é™©ï¼š',
                        '  â€¢ é€‰é¡¹Aï¼šä¸‹æ³¨ 1/2 potï¼ˆä¿æŠ¤+ä»·å€¼ï¼‰',
                        '  â€¢ é€‰é¡¹Bï¼šè¿‡ç‰Œï¼ˆæ§åˆ¶åº•æ± ï¼Œå‡†å¤‡æ²³ç‰Œå¼ƒç‰Œï¼‰',
                        '',
                        'âŒ ç»ä¸è¦åšï¼š',
                        '  â€¢ å¤§é¢ä¸‹æ³¨ â‰¥ 2/3 potï¼ˆæŠ•å…¥å¤ªå¤šï¼Œæ²³ç‰Œå¼ƒä¸æ‰ï¼‰',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ å¯¹æ‰‹å°åŠ æ³¨ï¼ˆmin-raiseï¼‰â†’ è·Ÿæ³¨',
                        '  â€¢ å¯¹æ‰‹å¤§åŠ æ³¨ï¼ˆâ‰¥potï¼‰â†’ å¼ƒç‰Œ',
                        '',
                        'ğŸš¨ æ²³ç‰Œå¿…é¡»å¼ƒç‰Œçš„åœºæ™¯ï¼š',
                        '  â€¢ æ²³ç‰Œå®ŒæˆåŒèŠ±ï¼Œå¯¹æ‰‹ä¸‹æ³¨ â†’ å¼ƒç‰Œ',
                        '  â€¢ æ²³ç‰Œå®Œæˆé¡ºå­ï¼Œå¯¹æ‰‹ä¸‹æ³¨ â†’ å¼ƒç‰Œ',
                        '  â€¢ æ²³ç‰Œç‰Œé¢é…å¯¹ï¼Œå¯¹æ‰‹å¤§é¢ä¸‹æ³¨ â†’ å¼ƒç‰Œ'
                    ]
                });
            } else {
                recs.push({
                    type: 'success',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 2/3 Pot',
                    content: [
                        'âœ… ä½ æœ‰é¡¶ä¸¤å¯¹ï¼Œç‰Œé¢å®‰å…¨ï¼š',
                        '  â€¢ ä»·å€¼æœ€å¤§åŒ–',
                        '  â€¢ ä¸‹æ³¨ 2/3 pot',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ è°¨æ…è¯„ä¼°ï¼ˆå¯¹æ‰‹å¯èƒ½æœ‰æš—ä¸‰ï¼‰',
                        '  â€¢ å¦‚æœå¯¹æ‰‹ä¸€ç›´è¢«åŠ¨ â†’ è·Ÿæ³¨',
                        '  â€¢ å¦‚æœå¯¹æ‰‹çªç„¶æ¿€è¿› â†’ è°¨æ…'
                    ]
                });
            }
        }
        
        // è¶…å¯¹/é¡¶å¯¹
        else if (hand === 'overpair' || hand === 'top-pair') {
            if (danger === 'dangerous' || danger === 'very-dangerous') {
                recs.push({
                    type: 'warning',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè¿‡ç‰Œ æˆ– å°é¢ä¸‹æ³¨ 1/3 Pot',
                    content: [
                        'âœ… ä½ åªæœ‰ä¸€å¯¹ï¼Œç‰Œé¢å±é™©ï¼š',
                        '  â€¢ æ§åˆ¶åº•æ± ï¼',
                        '  â€¢ é€‰é¡¹Aï¼šè¿‡ç‰Œï¼ˆæœ€å®‰å…¨ï¼‰',
                        '  â€¢ é€‰é¡¹Bï¼šå°é¢ä¸‹æ³¨ 1/3 potï¼ˆæ¢åº•ï¼‰',
                        '',
                        'âŒ ç»ä¸è¦åšï¼š',
                        '  â€¢ å¤§é¢ä¸‹æ³¨ â‰¥ 1/2 pot',
                        '  â€¢ å¯¹æ‰‹åŠ æ³¨ä½ è¿˜è·Ÿæ³¨',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹ä¸‹æ³¨ï¼š',
                        '  â€¢ å¯¹æ‰‹å°é¢ä¸‹æ³¨ < 1/3 pot â†’ å¯è·Ÿæ³¨',
                        '  â€¢ å¯¹æ‰‹ä¸‹æ³¨ â‰¥ 1/2 pot â†’ ç›´æ¥å¼ƒç‰Œ',
                        '',
                        'ğŸš¨ æ²³ç‰Œè­¦ç¤ºï¼š',
                        '  â€¢ æ²³ç‰Œå®Œæˆä»»ä½•å¬ç‰Œ â†’ ä½ çš„ä¸€å¯¹ç›´æ¥å¼ƒï¼ˆvsä¸‹æ³¨ï¼‰',
                        '  â€¢ å¯¹æ‰‹æ²³ç‰Œä¸‹æ³¨ â‰¥ 1/2 pot â†’ ä½ çš„ä¸€å¯¹ç›´æ¥å¼ƒ',
                        '',
                        'ğŸ’¡ å…³é”®ï¼šè½¬ç‰Œæ§åˆ¶åº•æ± ï¼Œæ²³ç‰Œæ‰èƒ½è½»æ¾å¼ƒç‰Œ'
                    ]
                });
            } else {
                recs.push({
                    type: 'success',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 1/2 Pot',
                    content: [
                        'âœ… ä½ æœ‰ä¸€å¯¹ï¼Œç‰Œé¢å®‰å…¨ï¼š',
                        '  â€¢ ä¸‹æ³¨ 1/2 potï¼ˆä¿æŠ¤+ä»·å€¼ï¼‰',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ å¯¹æ‰‹å°åŠ æ³¨ â†’ è·Ÿæ³¨',
                        '  â€¢ å¯¹æ‰‹å¤§åŠ æ³¨ â‰¥ pot â†’ å¼ƒç‰Œ'
                    ]
                });
            }
        }
        
        // æŠ½åšæœåŒèŠ±
        else if (hand === 'nuts-draw') {
            if (opponentAction === 'check') {
                recs.push({
                    type: 'success',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 1/2 Potï¼ˆåŠè¯ˆå”¬ï¼‰',
                    content: [
                        'âœ… ä½ åœ¨æŠ½åšæœåŒèŠ±ï¼š',
                        '  â€¢ ä¸‹æ³¨ 1/2 potï¼ˆåŠè¯ˆå”¬ï¼‰',
                        '  â€¢ å¯¹æ‰‹å¼ƒç‰Œ â†’ ä½ èµ¢',
                        '  â€¢ å¯¹æ‰‹è·Ÿæ³¨ â†’ ä½ è¿˜æœ‰9å¼ outsï¼ˆçº¦36%èƒœç‡ï¼‰',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ è®¡ç®—èµ”ç‡',
                        '  â€¢ å¦‚æœèµ”ç‡åˆé€‚ï¼ˆâ‰¥ 3:1ï¼‰â†’ è·Ÿæ³¨',
                        '  â€¢ å¦‚æœèµ”ç‡ä¸å¤Ÿ â†’ å¼ƒç‰Œ',
                        '',
                        'ğŸ’¡ è®°ä½ï¼šæŠ½å¬ç‰Œæ°¸è¿œè®¡ç®—èµ”ç‡ï¼',
                        '  â€¢ åŒèŠ±å¬ï¼ˆ9 outsï¼‰â‰ˆ 36% èƒœç‡ï¼ˆè½¬åˆ°æ²³ï¼‰',
                        '  â€¢ éœ€è¦èµ”ç‡ï¼šè‡³å°‘ 3:1'
                    ]
                });
            } else if (opponentAction === 'bet-pot' || opponentAction === 'all-in') {
                recs.push({
                    type: 'critical',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šå¼ƒç‰Œ',
                    content: [
                        'âŒ å¯¹æ‰‹å¤§é¢ä¸‹æ³¨ï¼Œä½ åœ¨æŠ½å¬ç‰Œï¼š',
                        '  â€¢ ä½ éœ€è¦36%èƒœç‡',
                        '  â€¢ å¯¹æ‰‹ä¸‹æ³¨pot â†’ èµ”ç‡åªæœ‰2:1ï¼ˆ33%ï¼‰',
                        '  â€¢ èµ”ç‡ä¸å¤Ÿ â†’ å¼ƒç‰Œ',
                        '',
                        'ğŸ’¡ èŒä¸šç©å®¶æ°¸è¿œä¸ä¼šç”¨é”™è¯¯èµ”ç‡è¿½å¬ç‰Œ'
                    ]
                });
            } else {
                recs.push({
                    type: 'warning',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè·Ÿæ³¨',
                    content: [
                        'âœ… å¯¹æ‰‹å°é¢ä¸‹æ³¨ï¼Œä½ åœ¨æŠ½å¬ç‰Œï¼š',
                        '  â€¢ è®¡ç®—èµ”ç‡',
                        '  â€¢ åŒèŠ±å¬éœ€è¦è‡³å°‘3:1èµ”ç‡',
                        '  â€¢ å¦‚æœèµ”ç‡å¤Ÿ â†’ è·Ÿæ³¨',
                        '  â€¢ å¦‚æœèµ”ç‡ä¸å¤Ÿ â†’ å¼ƒç‰Œ'
                    ]
                });
            }
        }
        
        // æŠ½é¡ºå­
        else if (hand === 'straight-draw') {
            recs.push({
                type: 'warning',
                title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè°¨æ…è¿½å¬',
                content: [
                    'âš ï¸ ä½ åœ¨æŠ½é¡ºå­ï¼š',
                    '  â€¢ ä¸¤å¤´é¡ºï¼ˆ8 outsï¼‰â‰ˆ 32% èƒœç‡',
                    '  â€¢ å¡é¡ºï¼ˆ4 outsï¼‰â‰ˆ 16% èƒœç‡',
                    '',
                    'âœ… å¦‚æœå¯¹æ‰‹checkï¼š',
                    '  â€¢ ä¸¤å¤´é¡º â†’ å¯ä»¥ä¸‹æ³¨ 1/2 potï¼ˆåŠè¯ˆå”¬ï¼‰',
                    '  â€¢ å¡é¡º â†’ è¿‡ç‰Œï¼ˆå…è´¹çœ‹æ²³ç‰Œï¼‰',
                    '',
                    'âŒ å¦‚æœå¯¹æ‰‹å¤§é¢ä¸‹æ³¨ï¼š',
                    '  â€¢ ä¸¤å¤´é¡º â†’ è®¡ç®—èµ”ç‡ï¼Œéœ€è¦è‡³å°‘3:1',
                    '  â€¢ å¡é¡º â†’ ç›´æ¥å¼ƒç‰Œï¼ˆèµ”ç‡å¤ªå·®ï¼‰',
                    '',
                    'ğŸ’¡ è®°ä½ï¼šé¡ºå­å¯èƒ½ä¸æ˜¯åšæœ',
                    '  â€¢ ç‰Œé¢æœ‰3å¼ åŒèŠ± â†’ ä½ çš„é¡ºå­å¯èƒ½è¾“ç»™åŒèŠ±',
                    '  â€¢ ç‰Œé¢æœ‰å¯¹å­ â†’ ä½ çš„é¡ºå­å¯èƒ½è¾“ç»™è‘«èŠ¦'
                ]
            });
        }
        
        // å¼±ç‰Œ
        else if (hand === 'weak-pair' || hand === 'nothing') {
            recs.push({
                type: 'critical',
                title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè¿‡ç‰Œ-å¼ƒç‰Œ',
                content: [
                    'âŒ ä½ çš„ç‰Œå¤ªå¼±ï¼š',
                    '  â€¢ ä¸è¦è¯ˆå”¬ï¼ˆè½¬ç‰Œè¯ˆå”¬æˆåŠŸç‡ä½ï¼‰',
                    '  â€¢ ä¸è¦è·Ÿæ³¨å¯¹æ‰‹ä¸‹æ³¨',
                    '  â€¢ è¿‡ç‰Œï¼Œå‡†å¤‡å¼ƒç‰Œ',
                    '',
                    'ğŸ’¡ åŠæ—¶æ­¢æŸ = èŒä¸šç©å®¶æ ‡å¿—'
                ]
            });
        }
    }

    // === æ²³ç‰Œåœˆ ===
    if (street === 'river') {
        // åšæœç‰Œå‹
        if (hand === 'nuts-flush' || hand === 'nuts-straight' || hand === 'fullhouse') {
            if (opponentAction === 'check') {
                recs.push({
                    type: 'success',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ Pot',
                    content: [
                        'âœ… ä½ æœ‰åšæœï¼Œå¯¹æ‰‹è¿‡ç‰Œï¼š',
                        '  â€¢ ä¸‹æ³¨ Potï¼ˆæœ€å¤§åŒ–ä»·å€¼ï¼‰',
                        '  â€¢ å¦‚æœå¯¹æ‰‹åŠ æ³¨ â†’ å…¨ä¸‹ï¼'
                    ]
                });
            } else {
                recs.push({
                    type: 'success',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šåŠ æ³¨æˆ–å…¨ä¸‹',
                    content: [
                        'âœ… ä½ æœ‰åšæœï¼Œå¯¹æ‰‹ä¸‹æ³¨ï¼š',
                        '  â€¢ å¯¹æ‰‹å°é¢ä¸‹æ³¨ â†’ åŠ æ³¨ 3x',
                        '  â€¢ å¯¹æ‰‹å¤§é¢ä¸‹æ³¨ â†’ å…¨ä¸‹ï¼'
                    ]
                });
            }
        }
        
        // å¼ºç‰Œä½†ç‰Œé¢å±é™©
        else if ((hand === 'set' || hand === 'top-two') && (danger === 'very-dangerous')) {
            if (opponentAction === 'bet-pot' || opponentAction === 'all-in') {
                recs.push({
                    type: 'critical',
                    title: 'ğŸš¨ æ¨èè¡ŒåŠ¨ï¼šå¼ƒç‰Œ',
                    content: [
                        'ğŸ’€ æƒ…å†µåˆ†æï¼š',
                        `  â€¢ ä½ æœ‰${hand === 'set' ? 'æš—ä¸‰' : 'é¡¶ä¸¤å¯¹'}`,
                        '  â€¢ ç‰Œé¢æåº¦å±é™©ï¼ˆå®ŒæˆåŒèŠ±/é¡ºå­/è‘«èŠ¦ï¼‰',
                        '  â€¢ å¯¹æ‰‹å¤§é¢ä¸‹æ³¨ â‰¥ pot',
                        '',
                        'âŒ å¿…é¡»å¼ƒç‰Œï¼',
                        '  â€¢ å¯¹æ‰‹99%æœ‰åšæœ',
                        `  â€¢ ä½ çš„${hand === 'set' ? 'æš—ä¸‰' : 'é¡¶ä¸¤å¯¹'}å·²ç»ä¸æ˜¯å¥½ç‰Œäº†`,
                        '',
                        'ğŸ’¡ è¿™æ˜¯èŒä¸šç©å®¶ vs ä¸šä½™ç©å®¶çš„åˆ†æ°´å²­ï¼š',
                        `  â€¢ ä¸šä½™ï¼šèˆä¸å¾—å¼ƒ${hand === 'set' ? 'æš—ä¸‰' : 'é¡¶ä¸¤å¯¹'} â†’ è¾“50-200BB`,
                        `  â€¢ èŒä¸šï¼šçœ‹åˆ°å®Œæˆå¬ç‰Œï¼Œ${hand === 'set' ? 'æš—ä¸‰' : 'é¡¶ä¸¤å¯¹'}ç§’å¼ƒ â†’ çœ50-200BB`
                    ]
                });
            }
        }
        
        // ä¸€å¯¹ç‰Œ
        else if (hand === 'overpair' || hand === 'top-pair' || hand === 'weak-pair') {
            if (opponentAction === 'bet-pot' || opponentAction === 'all-in') {
                recs.push({
                    type: 'critical',
                    title: 'ğŸš¨ æ¨èè¡ŒåŠ¨ï¼šå¼ƒç‰Œ',
                    content: [
                        'âŒ æ²³ç‰Œå¯¹æ‰‹å¤§é¢ä¸‹æ³¨ï¼Œä½ åªæœ‰ä¸€å¯¹ï¼š',
                        '  â€¢ ç›´æ¥å¼ƒç‰Œ',
                        '  â€¢ ä¸è¦Hero Call',
                        '  â€¢ ä¸è¦æƒ³"ä»–å¯èƒ½è¯ˆå”¬"',
                        '',
                        'ğŸ’¡ è®°ä½ï¼š',
                        '  â€¢ æ²³ç‰Œå¯¹æ‰‹å¤§é¢ä¸‹æ³¨ = 99%æœ‰ç‰Œ',
                        '  â€¢ ä½ çš„ä¸€å¯¹å‡ ä¹æ‰“ä¸èµ¢ä»»ä½•ä»·å€¼ç‰Œ'
                    ]
                });
            } else if (opponentAction === 'check') {
                if (hand === 'top-pair' || hand === 'overpair') {
                    if (danger === 'safe' || danger === 'normal') {
                        recs.push({
                            type: 'success',
                            title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 1/2 Pot',
                            content: [
                                'âœ… å¯¹æ‰‹è¿‡ç‰Œï¼Œç‰Œé¢å®‰å…¨ï¼Œä½ æœ‰é¡¶å¯¹/è¶…å¯¹ï¼š',
                                '  â€¢ è–„ä»·å€¼ä¸‹æ³¨ 1/2 pot',
                                '  â€¢ å¦‚æœå¯¹æ‰‹åŠ æ³¨ â†’ å¼ƒç‰Œ'
                            ]
                        });
                    } else {
                        recs.push({
                            type: 'warning',
                            title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè¿‡ç‰Œï¼ˆæ”¾å¼ƒä»·å€¼ï¼‰',
                            content: [
                                'âœ… å¯¹æ‰‹è¿‡ç‰Œï¼Œä½†ç‰Œé¢å±é™©ï¼š',
                                '  â€¢ ä½ çš„ä¸€å¯¹ä¸å¤Ÿå¼º',
                                '  â€¢ è¿‡ç‰Œæ‘Šç‰Œ',
                                '  â€¢ ä¸‹æ³¨å¯èƒ½è¢«åŠ æ³¨è¯ˆå”¬ â†’ æŸå¤±æ›´å¤š'
                            ]
                        });
                    }
                } else {
                    recs.push({
                        type: 'info',
                        title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè¿‡ç‰Œï¼ˆæ‘Šç‰Œï¼‰',
                        content: [
                            'ä½ çš„ç‰Œå¾ˆå¼±ï¼Œå¯¹æ‰‹ä¹Ÿè¿‡ç‰Œ',
                            'ç›´æ¥æ‘Šç‰Œ'
                        ]
                    });
                }
            }
        }
    }

    // === ç¿»ç‰Œåœˆ ===
    if (street === 'flop') {
        if (hand === 'nuts-flush' || hand === 'nuts-straight' || hand === 'fullhouse' || hand === 'set') {
            recs.push({
                type: 'success',
                title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 1/2 - 2/3 Pot',
                content: [
                    'âœ… ç¿»ç‰Œåœˆä½ æœ‰å¼ºç‰Œï¼š',
                    '  â€¢ ä¸‹æ³¨ 1/2 - 2/3 pot',
                    '  â€¢ å»ºç«‹åº•æ± ï¼Œä¸ºè½¬ç‰Œ/æ²³ç‰Œåšå‡†å¤‡'
                ]
            });
        } else if (hand === 'nuts-draw' || hand === 'straight-draw') {
            recs.push({
                type: 'success',
                title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 1/2 Potï¼ˆåŠè¯ˆå”¬ï¼‰æˆ– è¿‡ç‰Œ',
                content: [
                    'âœ… ç¿»ç‰Œåœˆä½ æœ‰å¬ç‰Œï¼š',
                    '  â€¢ é€‰é¡¹Aï¼šä¸‹æ³¨ 1/2 potï¼ˆåŠè¯ˆå”¬ï¼‰',
                    '  â€¢ é€‰é¡¹Bï¼šè¿‡ç‰Œï¼ˆå…è´¹çœ‹è½¬ç‰Œï¼‰',
                    '',
                    'ğŸ’¡ å¦‚æœå¯¹æ‰‹ä¸‹æ³¨ï¼š',
                    '  â€¢ è®¡ç®—èµ”ç‡å†³å®šè·Ÿä¸è·Ÿ'
                ]
            });
        }
    }

    return recs;
}

    // æ ¸å¿ƒé€»è¾‘ï¼šæ ¹æ®æƒ…å†µç»™å‡ºæ˜ç¡®è¡ŒåŠ¨å»ºè®®
    
    // === è½¬ç‰Œåœˆ ===
    if (street === 'turn') {
        if (danger === 'dangerous' || danger === 'very-dangerous') {
            if (strength === 'strong' || strength === 'nuts') {
                recs.push({
                    type: 'success',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 2/3 åº•æ± ',
                    content: [
                        'âœ… ä¸ºä»€ä¹ˆä¸‹æ³¨ï¼š',
                        '  â€¢ ç‰Œé¢å±é™©ï¼Œå¯¹æ‰‹å¯èƒ½æœ‰å¬ç‰Œ',
                        '  â€¢ ä¿æŠ¤ä½ çš„å¼ºç‰Œï¼Œä¸ç»™å…è´¹æŠ½ç‰Œæœºä¼š',
                        '  â€¢ è®©å¯¹æ‰‹ç”¨é”™è¯¯èµ”ç‡è·Ÿæ³¨',
                        '',
                        'âŒ ç»ä¸è¦åšï¼š',
                        '  â€¢ è¿‡ç‰Œï¼ˆç»™å…è´¹ç‰Œ = é€é’±ï¼‰',
                        '  â€¢ å°é¢ä¸‹æ³¨ < 1/2 potï¼ˆç»™å¯¹æ‰‹æ­£ç¡®èµ”ç‡ï¼‰',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ä½ ï¼š',
                        '  â€¢ ä½ æœ‰åšæœ/æš—ä¸‰/è‘«èŠ¦ â†’ å…¨ä¸‹',
                        '  â€¢ ä½ åªæœ‰é¡¶å¯¹/è¶…å¯¹ â†’ è°¨æ…ï¼ˆå¯èƒ½è¢«å¬ç‰ŒåŠ æ³¨è¯ˆå”¬ï¼Œä¹Ÿå¯èƒ½è¢«ä¸¤å¯¹+ä»·å€¼åŠ æ³¨ï¼‰'
                    ]
                });
                
                recs.push({
                    type: 'critical',
                    title: 'ğŸš¨ æ²³ç‰Œé¢„è­¦ï¼šå‡†å¤‡å¼ƒç‰Œåœºæ™¯',
                    content: [
                        'ğŸ’€ æ²³ç‰Œå¦‚æœå‡ºç°ä»¥ä¸‹ç‰Œï¼Œä½ å¿…é¡»å‡†å¤‡å¼ƒç‰Œï¼š',
                        '',
                        'âŒ ç¬¬4å¼ åŒèŠ± â†’ ä½ çš„ä¸¤å¯¹/ä¸‰æ¡ç›´æ¥å¼ƒï¼ˆvsä¸‹æ³¨ï¼‰',
                        'âŒ å®Œæˆé¡ºå­ â†’ ä½ çš„ä¸¤å¯¹/ä¸‰æ¡ç›´æ¥å¼ƒï¼ˆvsä¸‹æ³¨ï¼‰',
                        'âŒ ç‰Œé¢é…å¯¹ â†’ ä½ çš„é¡ºå­/åŒèŠ±è°¨æ…ï¼ˆå¯¹æ‰‹å¯èƒ½è‘«èŠ¦ï¼‰',
                        '',
                        'ğŸ’¡ è®°ä½ï¼šè½¬ç‰Œä½ ä¸‹æ³¨äº†ï¼Œæ²³ç‰Œå‡ºç°ææ€–ç‰Œï¼Œå¯¹æ‰‹ä¸‹æ³¨pot+ = 99%æœ‰ç‰Œ',
                        'â†’ è¿™æ—¶å€™å¼ƒç‰Œ = æ­£ç¡®å†³ç­–ï¼ˆçœé’±ï¼‰',
                        'â†’ è¿™æ—¶å€™è·Ÿæ³¨ = æƒ…ç»ªåŒ–ï¼ˆé€é’±ï¼‰'
                    ]
                });
            } else if (strength === 'medium') {
                recs.push({
                    type: 'warning',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè¿‡ç‰Œ or å°é¢ä¸‹æ³¨1/3pot',
                    content: [
                        'âœ… ä¸ºä»€ä¹ˆæ§åˆ¶åº•æ± ï¼š',
                        '  â€¢ ä½ çš„ç‰Œä¸å¤Ÿå¼ºï¼ˆä¸­å¯¹/å¼±é¡¶å¯¹ï¼‰',
                        '  â€¢ ç‰Œé¢å±é™©ï¼Œå¯¹æ‰‹å¯èƒ½æœ‰å¬ç‰Œæˆ–å·²ç»è¶…è¿‡ä½ ',
                        '  â€¢ é¿å…æŠ•å…¥å¤ªå¤šï¼Œæ²³ç‰Œéš¾å¼ƒ',
                        '',
                        'âŒ ç»ä¸è¦åšï¼š',
                        '  â€¢ å¤§é¢ä¸‹æ³¨ â‰¥ 1/2 potï¼ˆæŠ•å…¥å¤ªå¤šï¼Œæ²³ç‰Œå¼ƒä¸æ‰ï¼‰',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹ä¸‹æ³¨ï¼š',
                        '  â€¢ å¯¹æ‰‹å°é¢ä¸‹æ³¨ < 1/2 pot â†’ å¯ä»¥è·Ÿæ³¨',
                        '  â€¢ å¯¹æ‰‹å¤§é¢ä¸‹æ³¨ â‰¥ 1/2 pot â†’ ç›´æ¥å¼ƒç‰Œï¼ˆä½ çš„ç‰Œä¸å¤Ÿå¼ºï¼‰',
                        '',
                        'ğŸ’¡ å…³é”®ï¼šè½¬ç‰Œæ§åˆ¶åº•æ± ï¼Œæ²³ç‰Œæ‰èƒ½è‡ªç”±å¼ƒç‰Œ'
                    ]
                });
            } else {
                recs.push({
                    type: 'critical',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè¿‡ç‰Œ-å¼ƒç‰Œ',
                    content: [
                        'âœ… ä¸ºä»€ä¹ˆå¼ƒç‰Œï¼š',
                        '  â€¢ ä½ çš„ç‰Œå¾ˆå¼±',
                        '  â€¢ ç‰Œé¢å±é™©',
                        '  â€¢ ç»§ç»­æŠ•å…¥ = é€é’±',
                        '',
                        'âŒ ç»ä¸è¦åšï¼š',
                        '  â€¢ è¯ˆå”¬ä¸‹æ³¨ï¼ˆç‰Œé¢å±é™©ï¼Œå¯¹æ‰‹ä¸ä¼šå¼ƒç‰Œï¼‰',
                        '  â€¢ è·Ÿæ³¨å¯¹æ‰‹ä¸‹æ³¨ï¼ˆä½ çš„ç‰Œå¤ªå¼±ï¼‰',
                        '',
                        'ğŸ’¡ åŠæ—¶æ­¢æŸ = èŒä¸šç©å®¶çš„æ ‡å¿—'
                    ]
                });
            }
        } else {
            // ç‰Œé¢å®‰å…¨/ä¸€èˆ¬
            if (strength === 'strong' || strength === 'nuts') {
                recs.push({
                    type: 'success',
                    title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 1/2 - 2/3 åº•æ± ',
                    content: [
                        'âœ… ä¸ºä»€ä¹ˆä¸‹æ³¨ï¼š',
                        '  â€¢ ä½ æœ‰å¼ºç‰Œ',
                        '  â€¢ ç‰Œé¢ç›¸å¯¹å®‰å…¨ï¼Œå¯¹æ‰‹éš¾æœ‰å¬ç‰Œ',
                        '  â€¢ ä»·å€¼æœ€å¤§åŒ–',
                        '',
                        'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                        '  â€¢ ä½ æœ‰åšæœ â†’ å…¨ä¸‹',
                        '  â€¢ ä½ åªæœ‰ä¸¤å¯¹/ä¸‰æ¡ â†’ è°¨æ…è¯„ä¼°ï¼ˆå¯¹æ‰‹å¯èƒ½æœ‰æ›´å¼ºçš„ç‰Œï¼‰'
                    ]
                });
            }
        }
    }

    // === æ²³ç‰Œåœˆ ===
    if (street === 'river') {
        if (danger === 'very-dangerous') {
            if (opponentAction === 'bet-pot' || opponentAction === 'all-in') {
                recs.push({
                    type: 'critical',
                    title: 'ğŸš¨ æ¨èè¡ŒåŠ¨ï¼šå¼ƒç‰Œï¼ˆé™¤éä½ æœ‰åšæœï¼‰',
                    content: [
                        'ğŸ’€ æƒ…å†µåˆ†æï¼š',
                        '  â€¢ ç‰Œé¢æåº¦å±é™©ï¼ˆå®ŒæˆåŒèŠ±/é¡ºå­/è‘«èŠ¦ï¼‰',
                        '  â€¢ å¯¹æ‰‹å¤§é¢ä¸‹æ³¨ â‰¥ pot',
                        '  â€¢ å¯¹æ‰‹99%æœ‰åšæœæˆ–æå¼ºç‰Œ',
                        '',
                        'âŒ ç»ä¸è¦è·Ÿæ³¨çš„ç‰Œï¼š',
                        '  â€¢ ä¸‰æ¡ï¼ˆvså®Œæˆçš„åŒèŠ±/é¡ºå­ï¼‰',
                        '  â€¢ ä¸¤å¯¹ï¼ˆvså®Œæˆçš„åŒèŠ±/é¡ºå­ï¼‰',
                        '  â€¢ é¡¶å¯¹ï¼ˆvsä»»ä½•ä¸‹æ³¨ï¼‰',
                        '  â€¢ å°åŒèŠ±/å°é¡ºå­ï¼ˆvså¤§é¢ä¸‹æ³¨ï¼‰',
                        '',
                        'âœ… å¯ä»¥è·Ÿæ³¨çš„ç‰Œï¼š',
                        '  â€¢ åšæœï¼ˆç»å¯¹åšæœï¼‰',
                        '  â€¢ ç¬¬äºŒåšæœ + å¯¹æ‰‹æ˜¯ç–¯å­ + åº•æ± èµ”ç‡æå¥½',
                        '',
                        'ğŸ’¡ èŒä¸šç©å®¶ vs ä¸šä½™ç©å®¶ï¼š',
                        '  â€¢ ä¸šä½™ï¼šç”¨ä¸‰æ¡èˆä¸å¾—å¼ƒ â†’ è¾“å¤§åº•æ± ',
                        '  â€¢ èŒä¸šï¼šæ²³ç‰Œå®Œæˆå¬ç‰Œï¼Œä¸‰æ¡ç§’å¼ƒ â†’ çœ50-200BB'
                    ]
                });
            } else if (opponentAction === 'check') {
                if (strength === 'strong' || strength === 'nuts') {
                    recs.push({
                        type: 'success',
                        title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 2/3 åº•æ± ',
                        content: [
                            'âœ… ä¸ºä»€ä¹ˆä¸‹æ³¨ï¼š',
                            '  â€¢ å¯¹æ‰‹è¿‡ç‰Œï¼Œæ˜¾ç¤ºå¼±åŠ¿',
                            '  â€¢ ä½ æœ‰å¼ºç‰Œï¼Œä»·å€¼æœ€å¤§åŒ–',
                            '  â€¢ ç‰Œé¢è™½ç„¶å±é™©ï¼Œä½†å¯¹æ‰‹æ²¡æœ‰',
                            '',
                            'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                            '  â€¢ ä½ æœ‰åšæœ â†’ å…¨ä¸‹',
                            '  â€¢ ä½ åªæœ‰ä¸¤å¯¹/ä¸‰æ¡ â†’ è°¨æ…ï¼ˆå¯¹æ‰‹å¯èƒ½è¯ˆå”¬åŠ æ³¨æˆ–æ…¢æ‰“åšæœï¼‰'
                        ]
                    });
                } else if (strength === 'medium') {
                    recs.push({
                        type: 'warning',
                        title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè¿‡ç‰Œï¼ˆæ”¾å¼ƒä»·å€¼ï¼‰',
                        content: [
                            'âœ… ä¸ºä»€ä¹ˆè¿‡ç‰Œï¼š',
                            '  â€¢ ä½ çš„ç‰Œä¸å¤Ÿå¼ºï¼ˆä¸­å¯¹/å¼±é¡¶å¯¹ï¼‰',
                            '  â€¢ ç‰Œé¢å±é™©ï¼Œå¯¹æ‰‹è¿‡ç‰Œå¯èƒ½é™·é˜±',
                            '  â€¢ ä¸‹æ³¨è¢«åŠ æ³¨ = è¢«è¿«å¼ƒç‰Œ = æŸå¤±æ›´å¤š',
                            '',
                            'ğŸ’¡ æœ‰æ—¶å€™æ”¾å¼ƒä»·å€¼ = æ­£ç¡®å†³ç­–'
                        ]
                    });
                } else {
                    recs.push({
                        type: 'info',
                        title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šè¿‡ç‰Œï¼ˆæ‘Šç‰Œï¼‰',
                        content: [
                            'ä½ çš„ç‰Œå¾ˆå¼±ï¼Œå¯¹æ‰‹ä¹Ÿè¿‡ç‰Œäº†',
                            'ç›´æ¥æ‘Šç‰Œï¼Œçœ‹è¿æ°”'
                        ]
                    });
                }
            }
        }
    }

    // === ç¿»ç‰Œåœˆ ===
    if (street === 'flop') {
        if (strength === 'strong' || strength === 'nuts') {
            recs.push({
                type: 'success',
                title: 'ğŸ¯ æ¨èè¡ŒåŠ¨ï¼šä¸‹æ³¨ 1/2 - 2/3 åº•æ± ',
                content: [
                    'âœ… ç¿»ç‰ŒåœˆæŒç»­ä¸‹æ³¨ï¼ˆC-betï¼‰',
                    '',
                    'ä¸‹æ³¨å°ºå¯¸ï¼š',
                    '  â€¢ å¹²ç‡¥ç‰Œé¢ï¼ˆK72å½©è™¹ï¼‰â†’ 1/2 pot',
                    '  â€¢ æ¹¿æ¶¦ç‰Œé¢ï¼ˆ987ä¸¤åŒèŠ±ï¼‰â†’ 2/3 pot',
                    '  â€¢ å¯¹å­ç‰Œé¢ï¼ˆQQ3ï¼‰â†’ 1/3 pot',
                    '',
                    'âš ï¸ å¦‚æœå¯¹æ‰‹åŠ æ³¨ï¼š',
                    '  â€¢ ä½ æœ‰åšæœ/æš—ä¸‰ â†’ å…¨ä¸‹æˆ–è·Ÿæ³¨',
                    '  â€¢ ä½ åªæœ‰é¡¶å¯¹ â†’ è·Ÿæ³¨ï¼ˆçœ‹è½¬ç‰Œï¼‰'
                ]
            });
        }
    }

    // === ç¿»å‰ ===
    if (street === 'preflop') {
        recs.push({
            type: 'info',
            title: 'ğŸ’¡ ç¿»å‰å¿«é€ŸæŒ‡å¼•',
            content: [
                'è¿™ä¸ªå·¥å…·ä¸»è¦ç”¨äºç¿»ç‰Œåå†³ç­–',
                '',
                'ç¿»å‰å»ºè®®ï¼š',
                '  â€¢ ä½¿ç”¨è®­ç»ƒå™¨ä¸­çš„"ç¿»å‰èŒƒå›´çƒ­åŠ›å›¾"',
                '  â€¢ æ ¹æ®ä½ç½®å’ŒèŒƒå›´å…¥æ± ',
                '',
                'ç¿»å‰æ ¸å¿ƒåŸåˆ™ï¼š',
                '  â€¢ å‰ä½ç´§ï¼ˆUTG/MPï¼‰',
                '  â€¢ åä½å®½ï¼ˆCO/BTNï¼‰',
                '  â€¢ æ·±ç­¹ç é¿å…è¾¹ç¼˜ç‰Œ'
            ]
        });
    }

    return recs;
}

function displayRecommendations(recs) {
    const container = document.getElementById('alertContainer');
    container.innerHTML = '';

    recs.forEach(rec => {
        const card = document.createElement('div');
        card.className = `alert-card alert-${rec.type}`;

        const title = document.createElement('div');
        title.className = 'alert-title';
        title.textContent = rec.title;

        const content = document.createElement('div');
        content.className = 'alert-content';

        if (Array.isArray(rec.content)) {
            const ul = document.createElement('ul');
            rec.content.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                ul.appendChild(li);
            });
            content.appendChild(ul);
        } else {
            content.textContent = rec.content;
        }

        card.appendChild(title);
        card.appendChild(content);
        container.appendChild(card);
    });
}

function displayStats() {
    // ç§»é™¤æ•°æ®å †ç Œï¼Œä¸æ˜¾ç¤ºç»Ÿè®¡æ•°æ®
}

function resetHelper() {
    document.getElementById('potSize').value = '50';
    
    document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
    document.querySelector('[data-street="turn"]').classList.add('active');
    document.querySelector('[data-hand="top-two"]').classList.add('active');
    document.querySelector('[data-action="check"]').classList.add('active');
    document.querySelector('[data-danger="dangerous"]').classList.add('active');

    document.getElementById('alertSection').classList.remove('show');

    gameState = {
        street: 'turn',
        hand: 'top-two',
        opponentAction: 'check',
        danger: 'dangerous'
    };

    window.scrollTo({ top: 0, behavior: 'smooth' });
}
